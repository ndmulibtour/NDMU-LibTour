(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7526],{7526:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var i=t(91309),c=t(85893),l=t(61935),r=t(67294),u=t(25617),o=t(20838),s=t(79612),FlickityScenes=function(e){var n=e.onSetRef,t=e.scenesGroupActive,i=e.sceneSelected;return(0,c.jsx)(s.Z,{elementType:"div",className:"carousel",flickityRef:function(e){e&&n(e)},options:{freeScroll:!0,freeScrollFriction:.03,contain:!0,prevNextButtons:!1,pageDots:!1,lazyLoad:!0,cellAlign:"left"},children:null==t?void 0:t.map(function(e){var n,t;return(0,c.jsxs)("div",{className:"".concat((null==i?void 0:i.id)===e.id?"active":""," itemScene"),children:[(0,c.jsx)("img",{src:e.screenshot||(null===(n=e.media)||void 0===n?void 0:n.src_thumb)||(null==e?void 0:null===(t=e.object360)||void 0===t?void 0:t.firstImage)||"",alt:""}),(0,c.jsx)("h2",{className:"--menuSceneTitle",children:e.title})]},e.id)})})},a=t(82604),d=t(69820);t(85785);var v=(0,r.forwardRef)(function(e,n){var t=e.onChangeScene,s=e.className,v=e.isShow,f=(0,r.useRef)(null),h=(0,i._)((0,r.useState)(!1),2),m=h[0],S=h[1],g=(0,u.v9)(l.Fr),p=(0,u.v9)(l.Y2),x=(0,r.useMemo)(function(){var e;return 1===g.length&&"uncategory"===g[0].id?"uncategory":(null===(e=g.filter(function(e){return(null==p?void 0:p.group)===e.id})[0])||void 0===e?void 0:e.id)||""},[g,null==p?void 0:p.id]),k=(0,r.useMemo)(function(){var e,n;return g.filter(function(e){return e.id===x}).length&&(null===(n=g.filter(function(e){return e.id===x}))||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.scenes)||[]},[x,g]),N=(0,r.useMemo)(function(){return k.findIndex(function(e){return e.id===(null==p?void 0:p.id)})},[null==p?void 0:p.id,k]),j=(0,r.useCallback)(function(e,n,i,c){i&&t(k[c])},[t,k]);return(0,r.useImperativeHandle)(n,function(){return{onPrevScene:function(){if(0!==N){var e,n=N-1;t(k[n]),null===(e=f.current)||void 0===e||e.select(n,!1)}},onNextScene:function(){if(N+1!==k.length){var e,n=N+1;t(k[n]),null===(e=f.current)||void 0===e||e.select(n,!1)}}}}),(0,r.useEffect)(function(){S(!0)},[]),(0,r.useEffect)(function(){var e;return(null==f?void 0:f.current)&&(null===(e=f.current)||void 0===e||e.on("staticClick",j)),function(){var e;(null==f?void 0:f.current)&&(null===(e=f.current)||void 0===e||e.off("staticClick",j))}},[x,m]),(0,c.jsxs)(d.bx,{className:"".concat(s," ").concat(v?"":"--hide"," ").concat(1===g.length&&"uncategory"===g[0].id?"hideNav":""),id:"themeListScene",children:[1===g.length&&"uncategory"===g[0].id?(0,c.jsx)("div",{className:"scenes",children:m&&(0,c.jsx)(FlickityScenes,{sceneSelected:p,scenesGroupActive:k,onSetRef:function(e){if(!f.current&&e){var n;f.current=e,null===(n=f.current)||void 0===n||n.on("staticClick",j)}}})}):(0,c.jsx)(o.Z,{activeKey:x,tabPosition:"top",onTabClick:function(e){var n,i=g.filter(function(n){return n.id===e})[0];(null==i?void 0:null===(n=i.scenes)||void 0===n?void 0:n.length)&&t(i.scenes[0])},onChange:function(){f.current=null},className:"--tabs",children:g.map(function(e){return(0,c.jsx)(o.Z.TabPane,{tab:"".concat(e.name||"N/A"),className:"itemSceneCate ".concat(x===e.id?"active":""),children:x===e.id&&m&&(0,c.jsx)(FlickityScenes,{sceneSelected:p,scenesGroupActive:k,onSetRef:function(e){var n;f.current=e,null===(n=f.current)||void 0===n||n.on("staticClick",j)}})},e.id)})}),(0,c.jsx)(a.H,{})]})})},85785:function(){}}]);
//# sourceMappingURL=7526.7af26fe7a70d0d30.js.map