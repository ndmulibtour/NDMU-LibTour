"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5133],{35133:function(e,n,a){a.r(n);var l=a(91309),i=a(85893),o=a(67294),t=a(97616),s=a(5152),c=a.n(s),r=a(58673),u=a(98075),d=a(25617),p=a(61935),v=a(94055),f=a(4259),m=a(82857),h=a(15924),k=c()(function(){return a.e(2851).then(a.bind(a,12851))},{loadableGenerated:{webpack:function(){return[12851]}}}),C=(0,o.memo)(function(e){var n,a,s,c,C=e.onChangeScene,x=h.sk?{}:window.languages||{},b=(0,o.useRef)(null),g=(0,d.v9)(p.g5),j=(0,d.v9)(p.AA),M=(0,l._)((0,r.gU)("state"),1)[0],N=(0,u.m)(),_=N.mapData,S=N.configMap,P=N.visiblePopup,w=N.sceneSelected,D=N.markerSelected,E=N.configDisplayPanel,y=N.onCloseMap,B=N.onOpenPopup,A=N.onClosePopup,F=(0,o.useCallback)(function(){var e;null===(e=b.current)||void 0===e||e.onFitBounds()},[]),O=(0,o.useCallback)(function(){var e;null===(e=b.current)||void 0===e||e.onPanToMarker(D)},[D]);return P?(0,i.jsx)(k,{visible:P,markerSelected:D,mapData:_,configMap:S,onChangeScene:C,onCancel:A}):(0,i.jsxs)(f.XJ,{bgColor:(null==S?void 0:S.bgColor)||t.xr.bgColor||"#000",position:(null==E?void 0:E.position)||"left",className:"".concat(M.isVisibleMap?"":"hide"," ").concat((null==j?void 0:j.selected)==="basekrpano"?"basekrpano":(null==j?void 0:j.selected)==="custom1"?"custom1":(null==j?void 0:j.selected)==="wall"?"wall":"default"),children:[(0,i.jsx)("div",{className:"main",children:(0,i.jsx)(m.Z,{ref:b,mapData:_,sceneSelected:w,markerSelected:D,configMap:S,onChangeScene:C})}),(0,i.jsxs)(f.Nh,{children:[(0,i.jsx)("div",{className:"--left"}),(0,i.jsxs)("div",{className:"--right",children:[(0,i.jsx)(v.default,{title:null===(n=x[g])||void 0===n?void 0:n.actionMarkerCenter,placement:"top",children:(0,i.jsx)("div",{className:"action--item",onClick:O,children:(0,i.jsx)("i",{"aria-hidden":!0,className:"far fa-crosshairs"})})}),(0,i.jsx)(v.default,{title:null===(a=x[g])||void 0===a?void 0:a.actionMarkerCover,placement:"top",children:(0,i.jsx)("div",{className:"action--item",onClick:F,children:(0,i.jsx)("i",{"aria-hidden":!0,className:"far fa-ball-pile"})})}),(0,i.jsx)(v.default,{title:null===(s=x[g])||void 0===s?void 0:s.actionMarkerExpand,placement:"top",children:(0,i.jsx)("div",{className:"action--item",onClick:B,children:(0,i.jsx)("i",{"aria-hidden":!0,className:"far fa-expand"})})}),(0,i.jsx)(v.default,{title:null===(c=x[g])||void 0===c?void 0:c.actionMarkerClose,placement:"top",children:(0,i.jsx)("div",{className:"action--item",onClick:y,children:(0,i.jsx)("i",{"aria-hidden":!0,className:"far fa-times"})})})]})]})]})});n.default=C},98075:function(e,n,a){a.d(n,{m:function(){return useEventMap}});var l=a(72253),i=a(14932),o=a(91309),t=a(67294),s=a(25617),c=a(58673),r=a(61935),useEventMap=function(){var e=(0,s.v9)(r.CE),n=(0,s.v9)(r.F7),a=(0,s.v9)(r.Y2),u=(0,o._)((0,c.gU)("state"),2)[1],d=(0,t.useMemo)(function(){var n;return(null==e?void 0:null===(n=e.markers)||void 0===n?void 0:n.filter(function(e){return e.target_scene_id===(null==a?void 0:a.id)})[0])||void 0},[e,null==a?void 0:a.id]),p=(0,t.useMemo)(function(){var e;return(null==n?void 0:null===(e=n.map)||void 0===e?void 0:e.type)==="panel"?null==n?void 0:n.map:void 0},[null==n?void 0:n.map]),v=(0,t.useMemo)(function(){var e;return(null==n?void 0:null===(e=n.map)||void 0===e?void 0:e.type)==="box"?(0,l._)({},{offsetBottom:48,offsetLeft:10,offsetRight:10,offsetTop:10},null==n?void 0:n.map):void 0},[null==n?void 0:n.map]),f=(0,o._)((0,t.useState)(!1),2),m=f[0],h=f[1],k=(0,t.useCallback)(function(){u(function(e){return(0,i._)((0,l._)({},e),{isVisibleMap:!1})})},[u]),C=(0,t.useCallback)(function(){return h(!0)},[]),x=(0,t.useCallback)(function(){return h(!1)},[]);return(0,t.useMemo)(function(){return{visiblePopup:m,sceneSelected:a,markerSelected:d,configMap:n,configDisplayBox:v,mapData:e,configDisplayPanel:p,onCloseMap:k,onClosePopup:x,onOpenPopup:C}},[m,a,d,n,v,e,p,k,x,C])}}}]);
//# sourceMappingURL=5133.54364504a06a9fcc.js.map