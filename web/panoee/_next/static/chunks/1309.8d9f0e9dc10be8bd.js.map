{"version":3,"file":"static/chunks/1309.8d9f0e9dc10be8bd.js","mappings":"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","sources":["webpack://_N_E/./components/Hotspot/animation.ts","webpack://_N_E/./components/Hotspot/styled.tsx","webpack://_N_E/./components/BeforeAfterSlider/styled.ts","webpack://_N_E/./components/BeforeAfterSlider/index.tsx","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentSceneIcon.tsx","webpack://_N_E/./components/Hotspot/HotspotMedia.tsx","webpack://_N_E/./components/Krpano/useInternalFunction.tsx","webpack://_N_E/./utils/fullscreen.ts","webpack://_N_E/./components/Krpano/KrpanoViewer.tsx","webpack://_N_E/./containers/Home/components/Tour.RenderSceneKrpano/index.tsx","webpack://_N_E/./containers/Home/components/Tour.RenderSceneFlat360/styled.ts","webpack://_N_E/./containers/Home/components/Tour.RenderSceneFlat360/index.tsx","webpack://_N_E/./containers/Home/components/Tour.tsx","webpack://_N_E/./containers/Home/components/styled.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { keyframes } from 'styled-components';\n\nexport const pulse = keyframes`\n  0% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / .5);\n  }\n  70% {\n    transform: scale(1);\n    box-shadow: 0 0 0 50px rgba(255 255 255 / 0);\n  }\n  100% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / 0);\n  }\n`;\n\nexport const bounce = height => keyframes`\n  from {\n    transform: translateY(0px);\n  }\n  to {\n    transform: translateY(${height});\n  }\n`;\n\nexport const dash = keyframes`\n  from {\n    stroke-dashoffset: 800;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n`;\n\nexport const pulseCallout = keyframes`\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n  }\n  70%,\n  100% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n`;\n","/* eslint-disable no-nested-ternary */\nimport { FlexRowCenter } from 'styles/global-styles';\nimport styled, { css } from 'styled-components';\nimport {\n  I_HotspotConfigGlobal,\n  I_HotspotConfigStyle,\n  I_MediaInteraction,\n} from '@containers/Home/types';\nimport {\n  COLOR_HOTSPOT_BG_DEFAULT,\n  COLOR_HOTSPOT_ICON_DEFAULT,\n} from '@containers/Home/constants';\nimport { bounce, pulse, pulseCallout, dash } from './animation';\n\nexport const ShapeIconWrapper = styled.div<\n  I_HotspotConfigGlobal & {\n    // icon_fontSize?: number;\n    // shape_fontSize?: number;\n    // shape_color?: string;\n    isRenderShape?: boolean;\n  }\n>`\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  ${props =>\n    !props.isRenderShape &&\n    css`\n      background-color: ${props.bgColor || 'var(--color-red)'};\n      border: 2px solid #ffffff;\n      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n    `}\n  &.star span.icon {\n    margin-top: 7%;\n  }\n  &.triangle span.icon {\n    margin-top: 10%;\n  }\n  &.yinyang span.icon {\n    display: none;\n  }\n  &.diamond span.icon {\n    margin-top: -5%;\n  }\n  svg {\n    width: 100%;\n    height: 100%;\n    overflow: visible;\n    filter: drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.4));\n  }\n  .--svg {\n    svg {\n      path {\n        stroke: #fff;\n        stroke-width: 46px;\n        ${props => css`\n          fill: ${props.bgColor || 'var(--color-red)'};\n        `}\n      }\n    }\n  }\n  .icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    i {\n      color: ${props => props.iconColor || '#fff'} !important;\n    }\n  }\n`;\n\nexport const ImageIconWrapper = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nexport const LottieIconWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nexport const MarkerIconWrapper = styled.div<{ color?: string }>`\n  position: relative;\n  svg {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  path {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  img {\n    position: absolute;\n    border-radius: 50%;\n    height: auto;\n    width: 70%;\n    height: auto;\n    aspect-ratio: 1/1;\n    left: 0;\n    right: 0;\n    top: 10%;\n    margin: auto;\n  }\n  #id_marker1 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker2 {\n    img {\n      top: 9%;\n      border-radius: 10%;\n    }\n  }\n  #id_marker3 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker4 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker5 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker6 {\n    img {\n      top: 8%;\n    }\n  }\n  #id_marker7 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker8 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker9 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker10 {\n    img {\n      top: 9%;\n    }\n  }\n  #id_marker11 {\n    img {\n      top: 10.5%;\n    }\n  }\n  #id_marker12 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker13 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker14 {\n    img {\n      top: 11.5%;\n    }\n  }\n  #id_marker15 {\n    img {\n      top: 7.5%;\n    }\n  }\n  #id_marker16 {\n    img {\n      border-radius: 10%;\n      top: 10%;\n      width: 64%;\n    }\n  }\n`;\n\nexport const DefaultIconWrapper = styled.div<I_HotspotConfigGlobal>`\n  background: ${props => props.bgColor || COLOR_HOTSPOT_BG_DEFAULT};\n  border: 2px solid #ffffff;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 50%;\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  transition: var(--transition-smooth);\n  i {\n    font-size: 18px;\n    color: ${props => props.iconColor || COLOR_HOTSPOT_ICON_DEFAULT};\n  }\n  > div {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    svg {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      transform: scale(1.2);\n    }\n  }\n`;\n\nexport const HotspotWrapper = styled.div<{\n  isHidden: boolean;\n  type: I_HotspotConfigStyle['type'] | 'icon-shape';\n  size?: number;\n  rotate?: number;\n  opacity?: number;\n}>`\n  ${props =>\n    props.isHidden &&\n    css`\n      visibility: hidden;\n    `}\n  position: relative;\n  width: ${props =>\n    (props.type === 'image'\n      ? 24\n      : props.type === 'marker'\n      ? 20\n      : props.type === 'lottie'\n      ? 32\n      : props.type === 'icon-shape'\n      ? 14.7\n      : 10.7) * (props.size || 3)}px;\n  height: ${props =>\n    props.type === 'image' || props.type === 'marker' || props.type === 'lottie'\n      ? 'auto'\n      : props.type === 'icon-shape'\n      ? `${14.7 * (props.size || 3)}px`\n      : `${10.7 * (props.size || 3)}px`};\n  .content {\n    width: 100%;\n    height: 100%;\n    opacity: ${props => props.opacity};\n    transform: rotate(${props => props.rotate}deg);\n    ${ShapeIconWrapper}, ${DefaultIconWrapper} {\n      i {\n        font-size: ${props => 4.7 * (props.size || 3)}px;\n      }\n    }\n    animation-iteration-count: infinite;\n    animation-duration: var(--animate-duration) !important;\n    ${FlexRowCenter};\n    &.pulse-grow {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${pulse} 1.5s infinite;\n      animation-duration: 1500ms !important;\n    }\n    &.raise {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${props =>\n          bounce(\n            props.type === 'image' ? 'auto' : `${14 * (props.size || 3)}px`,\n          )}\n        500ms infinite alternate cubic-bezier(0.2, 0.65, 0.6, 1);\n      animation-duration: 2000ms !important;\n    }\n    border-radius: 50%;\n    position: relative;\n  }\n  .--title {\n    color: #fff;\n    top: -32px;\n    left: 50%;\n    // min-width: 100%;\n    font-weight: 600;\n    text-align: center;\n    position: absolute;\n    white-space: nowrap;\n    background: rgba(0, 0, 0, 0.35);\n    border-radius: 4px;\n    padding: 4px 6px;\n    z-index: 20;\n    transform: translate(-50%);\n    text-shadow: 0 1px 4px #000;\n    em {\n      color: #fff;\n      text-align: center;\n      font-style: initial;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n`;\n\nexport const HotspotMediaWrapper = styled.div<I_MediaInteraction>`\n  width: ${props => props.width} !important;\n  max-width: unset !important;\n  height: ${props => props.height} !important;\n  transform: ${props => props.transform}\n    rotate(${props => props.rotate || 0}deg);\n  background-color: ${props => props.backgroundColor};\n  opacity: ${props => props.opacity};\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  transform-origin: 0 0;\n  .target {\n    width: 100%;\n    height: 100%;\n    object-fit: ${props => props.displayType};\n  }\n  i {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    z-index: 30;\n    color: #fff;\n    background: rgb(0 0 0 / 0.5);\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.5rem;\n    transition: var(--transition-smooth);\n    transform: scale(0.5);\n    opacity: 0;\n    cursor: pointer;\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      i {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n  }\n  @media (hover: none) {\n    i {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;\n\nexport const CalloutIconWrapper = styled.div<{ degrees?: number }>`\n  width: 50%;\n  height: 50%;\n  .calloutWrapper {\n    width: 100%;\n    height: 100%;\n    .point {\n      width: 100%;\n      height: 100%;\n      .--dot {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border-radius: 50%;\n        animation: ${pulseCallout} ease-out 3s forwards infinite;\n      }\n    }\n    .--main {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%)\n        rotate(${props => props.degrees || 45}deg);\n      transform-origin: left bottom;\n    }\n    .line {\n      width: 0;\n      height: 2px;\n      background-color: #fff;\n      top: 50%;\n      transform: translateY(-50%);\n      position: absolute;\n      left: 50%;\n      transition: var(--transition-smooth);\n    }\n    .--content {\n      position: absolute;\n      left: 120px;\n      top: 50%;\n      &.--type-text {\n        height: 2px;\n        transform-origin: bottom left;\n        transform: translateY(-50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        .--img {\n          display: none;\n        }\n        .--line {\n          width: 0;\n          // width: 100%;\n          height: 2px;\n          margin-left: -1px;\n          background-color: #fff;\n          transition: var(--transition-smooth);\n          svg {\n            display: none;\n          }\n        }\n        .--text {\n          width: 0;\n          transition: var(--transition-smooth);\n          overflow: hidden;\n          pointer-events: none;\n          transform: translateY(calc(-100% + 20px));\n          &:after {\n            content: '';\n            width: 2px;\n            height: 0;\n            background: #fff;\n            display: block;\n            transition: var(--transition-smooth);\n            position: absolute;\n            top: 50%;\n            transform: translateY(-50%);\n          }\n        }\n        .--inner {\n          width: max-content;\n          pointer-events: auto;\n          position: relative;\n          max-width: 280px;\n          @media (max-width: 575px) {\n            max-width: 200px;\n          }\n        }\n        .--mainTitle {\n          background: var(--color-primary);\n          color: var(--color-text);\n          display: block;\n          padding: 4px 12px;\n          width: max-content;\n          // margin-bottom: 6px;\n          font-size: 0.9rem;\n          font-weight: 700;\n          line-height: 20px;\n          max-width: 100%;\n          width: 100%;\n        }\n        article {\n          color: #fff;\n          font-weight: 500;\n          text-shadow: 0 1px 4px #000;\n          max-width: 100%;\n          background: rgba(0, 0, 0, 0.35);\n          padding: 10px;\n        }\n      }\n      &.--type-img {\n        transform: translate(-20px, -50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        width: 120px;\n        height: 120px;\n        .--line {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: calc(100% + 10px);\n          height: calc(100% + 10px);\n          z-index: -1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          svg {\n            display: block;\n            width: 120px;\n            height: 120px;\n            @media (max-width: 575px) {\n              circle {\n                stroke-width: 4px;\n                /* r: 60px; */\n              }\n            }\n          }\n          #path {\n            stroke-dasharray: 800;\n            opacity: 0;\n          }\n        }\n        .--text {\n          display: none;\n        }\n        .--img {\n          width: 0;\n          height: 0;\n          overflow: hidden;\n          border-radius: 50%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: var(--transition-smooth);\n        }\n        .--inner {\n          width: max-content;\n          height: max-content;\n          pointer-events: auto;\n          position: relative;\n        }\n      }\n\n      .--img {\n        .--inner {\n          img {\n            width: 110px;\n            height: 110px;\n            border-radius: 50%;\n            object-fit: cover;\n            @media (max-width: 575px) {\n              width: 110px;\n              height: 110px;\n            }\n          }\n        }\n      }\n    }\n    &.active {\n      width: 120px;\n      height: 120px;\n      .line {\n        width: 120px;\n      }\n    }\n    &.show {\n      .line {\n        width: 120px;\n      }\n      .--content {\n        &.--type-text {\n          .--line {\n            /* width: 100%; */\n            /* transition-delay: 0.8s; */\n          }\n          .--text {\n            width: 100%;\n            transition-delay: 0.8s;\n            &:after {\n              height: 100%;\n              transition-delay: 0.8s;\n            }\n          }\n        }\n        &.--type-img {\n          .--img {\n            width: 100%;\n            height: 100%;\n            opacity: 1;\n            transition-delay: 0.8s;\n            img {\n            }\n          }\n          #path {\n            opacity: 1;\n            animation: ${dash} 2s ease-out forwards;\n            animation-delay: 0.5s;\n            transition-delay: 0.5s;\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const HotspotCompactWrapper = styled.div`\n  .compactHotspotWrapper {\n    pointer-events: none;\n    width: 2rem;\n    height: 1.5rem;\n    .--mainMarker {\n      width: 2rem;\n      height: 2rem;\n      // border: 5px solid var(--color-primary);\n      border: 5px solid #fff;\n      border-radius: 50%;\n      box-shadow: 0px 0px 4px 4px rgba(0, 0, 0, 0.5);\n      position: relative;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n      pointer-events: auto;\n      animation: pulse ease-out 3s forwards infinite;\n      @keyframes pulse {\n        0% {\n          box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n        }\n        70%,\n        100% {\n          box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n        }\n      }\n    }\n    .--revealMarkers {\n      display: flex;\n      gap: 8px;\n      pointer-events: none;\n      width: max-content;\n      height: max-content;\n      padding: 0.5rem 0;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n    }\n    .--itemDetailMarker {\n      opacity: 0;\n      transform: scale(0.5);\n      transition: var(--transition-smooth);\n      flex: 0 0 auto;\n      pointer-events: auto;\n      i {\n        background: rgba(0, 0, 0, 0.5);\n        border: 1px solid rgba(255, 255, 255, 0.5);\n        color: #fff;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: var(--transition-regular);\n      }\n      &:nth-child(1) {\n        transition-delay: 0s;\n      }\n      &:nth-child(2) {\n        transition-delay: 0.05s;\n      }\n      &:nth-child(3) {\n        transition-delay: 0.1s;\n      }\n      &:nth-child(4) {\n        transition-delay: 0.15s;\n      }\n      &:nth-child(5) {\n        transition-delay: 0.2s;\n      }\n      &:nth-child(6) {\n        transition-delay: 0.25s;\n      }\n      &:nth-child(7) {\n        transition-delay: 0.3s;\n      }\n      &:nth-child(8) {\n        transition-delay: 0.35s;\n      }\n      &:nth-child(9) {\n        transition-delay: 0.4s;\n      }\n      &:nth-child(10) {\n        transition-delay: 0.45s;\n      }\n    }\n\n    &:hover {\n      .--revealMarkers {\n        pointer-events: auto;\n      }\n      .--itemDetailMarker {\n        opacity: 1;\n        transform: scale(1);\n        &:hover {\n          i {\n            //   transform: scale(1.2);\n            background: var(--color-primary);\n            border-color: transparent;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from 'styled-components';\n\nexport const BeforeAfterSliderWrapper = styled.div`\n  width: 100%;\n  position: relative;\n  height: 100%;\n  z-index: 1;\n\n  .--pane {\n    top: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n  }\n  img {\n    user-select: none;\n  }\n  .--first-photo-container,\n  .--second-photo-container {\n    background: transparent;\n    > img {\n      width: 100%;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n  }\n  .--delimiter {\n    position: absolute;\n    height: 100%;\n    background: #fff;\n    width: 5px;\n    top: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .--delimiter-icon {\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n    background: #fff;\n    cursor: col-resize;\n  }\n\n  .--size-fix-img {\n    width: 100%;\n    opacity: 0;\n  }\n`;\n","import KrpanoBasic from '@components/Krpano/KrpanoBasic';\nimport { I_NadirConfig, I_Scene } from '@containers/Home/types';\nimport React, {\n  MouseEventHandler,\n  TouchEventHandler,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { BeforeAfterSliderWrapper } from './styled';\nimport { objectType } from '@type/customType';\n\n// eslint-disable-next-line no-shadow\nenum MODE_CURSOR {\n  MOVE = 'move',\n  DEFAULT = 'default',\n}\n\nexport function isIntersectionObserverSupport() {\n  if (typeof window === 'undefined') return false;\n  return Boolean(window.IntersectionObserver);\n}\n\nexport interface Image {\n  id?: string | number;\n  imageUrl: string;\n}\n\ninterface Props {\n  scenes?: (I_Scene & { urlTour: string })[];\n  classNames?: string;\n  onVisible?: () => void;\n  delimiterColor?: string;\n  withResizeFeel?: boolean;\n  firstPane: React.ReactNode;\n  nadirConfig?: I_NadirConfig;\n  mode: 'split' | 'slide' | '';\n}\n\nfunction useInit(\n  updateContainerWidth: () => void,\n  onMouseUpHandler: () => void,\n) {\n  useEffect(() => {\n    updateContainerWidth();\n    document.addEventListener('click', onMouseUpHandler);\n    return () => {\n      document.removeEventListener('click', onMouseUpHandler);\n    };\n  }, [onMouseUpHandler, updateContainerWidth]);\n}\n\nfunction useResizeFeel(callback: () => void, withResizeFeel?: boolean) {\n  useEffect(() => {\n    if (withResizeFeel) {\n      window.addEventListener('resize', callback);\n    }\n\n    return () => {\n      window.removeEventListener('resize', callback);\n    };\n  }, [callback, withResizeFeel]);\n}\n\nexport default function BeforeAfterSlider({\n  scenes = [],\n  firstPane,\n  onVisible,\n  classNames,\n  nadirConfig,\n  delimiterColor,\n  withResizeFeel = true,\n  mode = 'slide',\n}: Props) {\n  const refContainer = useRef<HTMLDivElement>(null);\n  const stateTemporary = useRef<objectType | null>(null);\n  const [containerWidth, setContainerWidth] = useState<number | null>(null);\n  const [panesPosition, setPanesPosition] = useState<\n    {\n      width: number;\n      left: number;\n    }[]\n  >([]);\n  const [sliderMode, setSliderMode] = useState<MODE_CURSOR>(\n    MODE_CURSOR.DEFAULT,\n  );\n  const [containerPosition, setContainerPosition] = useState({\n    top: 0,\n    left: 0,\n  });\n\n  const firstPanePosition = useMemo(\n    () =>\n      mode === 'split'\n        ? {\n            width:\n              100 -\n              (panesPosition || [])?.reduce((a, b) => a + b?.width || 0, 0),\n            left: panesPosition?.reduce((a, b) => a + b.width, 0),\n          }\n        : {\n            width: '100%',\n            left: '0',\n          },\n    [mode, panesPosition],\n  );\n\n  /**\n   * Observer start\n   */\n  const observerVisiblePersent = 0.95;\n  const observerOptions = {\n    threshold: [0.0, observerVisiblePersent],\n  };\n  const observerCallback = (entries: IntersectionObserverEntry[]) => {\n    if (!observer || !onVisible) return;\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > observerVisiblePersent) {\n        observer.disconnect();\n        onVisible();\n      }\n    });\n  };\n  const [observer] = useState(\n    onVisible && isIntersectionObserverSupport()\n      ? new IntersectionObserver(observerCallback, observerOptions)\n      : null,\n  );\n\n  useEffect(() => {\n    if (observer) observer.observe(refContainer.current as HTMLDivElement);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [observer]);\n\n  /**\n   * Observer end\n   */\n\n  useEffect(() => {\n    if (!containerWidth) return;\n    const positions: { width: number; left: number }[] = [];\n    const widthAverage = Number(100 / (scenes.length + 1));\n    for (let index = 0; index < scenes.length; index += 1) {\n      if (index === 0) positions.push({ width: widthAverage, left: 0 });\n      else {\n        const left = widthAverage * index;\n        positions.push({ width: widthAverage, left });\n      }\n    }\n    setPanesPosition(positions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerWidth, scenes]);\n\n  const updateContainerWidth = () => {\n    if (!refContainer.current) return;\n    const width = refContainer.current.offsetWidth;\n    setContainerWidth(width);\n  };\n\n  const onMouseUpHandler = () => {\n    setSliderMode(MODE_CURSOR.DEFAULT);\n  };\n\n  useInit(updateContainerWidth, onMouseUpHandler);\n\n  const delimiterIconStyles = {\n    backgroundColor: delimiterColor,\n  };\n  const delimiterPositionStyle = {\n    backgroundColor: delimiterColor,\n    right: 0,\n  };\n\n  const updateContainerPosition = () => {\n    if (!refContainer.current) return;\n    const containerCoords = refContainer.current.getBoundingClientRect();\n\n    setContainerPosition({\n      top: containerCoords.top + (window as any).pageYOffset,\n      left: containerCoords.left + (window as any).pageXOffset,\n    });\n  };\n\n  const onMouseDownHandler = item => {\n    updateContainerPosition();\n    setSliderMode(MODE_CURSOR.MOVE);\n    if (!stateTemporary.current) stateTemporary.current = [];\n    stateTemporary.current.itemActive = item;\n  };\n\n  const onMouseMoveHandler: MouseEventHandler<HTMLDivElement> = e => {\n    e.preventDefault();\n    onMoveHandler(e);\n  };\n\n  const onTouchMoveHandler: TouchEventHandler<HTMLDivElement> = e => {\n    onMoveHandler(e.touches[0]);\n  };\n\n  const onMoveHandler = (e: React.Touch | React.MouseEvent) => {\n    if (sliderMode === MODE_CURSOR.MOVE) {\n      if (!containerWidth) return;\n      const X = e.pageX - containerPosition.left;\n      const newPosition = (X / containerWidth) * 100;\n      if (stateTemporary.current?.itemActive === panesPosition.length - 1)\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (idx === stateTemporary.current?.itemActive) {\n              const newItem = {\n                width:\n                  newPosition -\n                  (panesPosition\n                    .map(el => el.width || 0)\n                    .reduce((a, b) => a + b, 0) -\n                    item.width),\n                left: item.left,\n              };\n              if (newItem.width > 5) return newItem;\n            }\n            return item;\n          }),\n        );\n      else\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (\n              stateTemporary.current &&\n              idx === stateTemporary.current?.itemActive\n            ) {\n              stateTemporary.current.totalWidthCurrentAndNextItem =\n                item.width + prev[idx + 1].width;\n              stateTemporary.current.totalWidthItemsLtCurrent = prev\n                .filter((_item, i) => i < stateTemporary.current?.itemActive)\n                .map(el => el.width || 0)\n                .reduce((a, b) => a + b, 0);\n              stateTemporary.current.currentWidthOld = item.width;\n              stateTemporary.current.currentWidthNew =\n                stateTemporary.current.itemActive === 0\n                  ? newPosition\n                  : newPosition -\n                    stateTemporary.current.totalWidthItemsLtCurrent;\n              const newItem = {\n                width: stateTemporary.current.currentWidthNew,\n                left: item.left,\n              };\n              stateTemporary.current.isUpdateNextItem = false;\n              if (\n                newItem.width > 5 &&\n                newItem.width <\n                  stateTemporary.current.totalWidthCurrentAndNextItem - 5\n              ) {\n                stateTemporary.current.isUpdateNextItem = true;\n                return newItem;\n              }\n            }\n            if (\n              stateTemporary.current &&\n              idx === stateTemporary.current.itemActive + 1\n            ) {\n              const newWidth =\n                item.width +\n                stateTemporary.current.currentWidthOld -\n                stateTemporary.current.currentWidthNew;\n              const newItem = {\n                width: newWidth,\n                left:\n                  stateTemporary.current.totalWidthItemsLtCurrent +\n                  stateTemporary.current.currentWidthNew,\n              };\n              if (stateTemporary.current.isUpdateNextItem) return newItem;\n            }\n            return item;\n          }),\n        );\n    }\n  };\n\n  useResizeFeel(updateContainerWidth, withResizeFeel);\n\n  return (\n    <BeforeAfterSliderWrapper\n      ref={refContainer}\n      className={classNames}\n      onMouseMove={onMouseMoveHandler}\n      onTouchMove={onTouchMoveHandler}\n    >\n      {panesPosition && Boolean(containerWidth) && (\n        <>\n          <div\n            className=\"--pane --first-photo-container\"\n            style={{\n              width: `${firstPanePosition.width}%`,\n              left: `${firstPanePosition.left}%`,\n              zIndex: 0,\n            }}\n          >\n            {firstPane}\n          </div>\n          {scenes.map((item, index) => (\n            <div\n              key={item.id}\n              className=\"--pane --second-photo-container\"\n              style={{\n                width: `${panesPosition[index]?.width || 0}%`,\n                left: `${panesPosition[index]?.left || 0}%`,\n                zIndex: scenes.length - index,\n              }}\n            >\n              <div\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  overflow: 'hidden',\n                  position: 'relative',\n                }}\n              >\n                <KrpanoBasic\n                  urlTour={item.urlTour || ''}\n                  scene={item || undefined}\n                  krpanoId={`krpanoView_${index}`}\n                  divId={`krpanoContainer_${index}`}\n                  styleContainer={{\n                    height: '100%',\n                    position: 'absolute',\n                    left:\n                      mode === 'slide'\n                        ? `calc(-1vw * ${panesPosition[index]?.left})`\n                        : '0',\n                    top: 0,\n                    width: mode === 'slide' ? '100vw' : '100%',\n                  }}\n                  nadirConfig={nadirConfig}\n                />\n              </div>\n              <div className=\"--delimiter\" style={delimiterPositionStyle}>\n                {mode === 'slide' && (\n                  <div>\n                    <div\n                      className=\"--delimiter-icon\"\n                      onMouseDown={() => onMouseDownHandler(index)}\n                      onTouchStart={() => onMouseDownHandler(index)}\n                      style={delimiterIconStyles}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </BeforeAfterSliderWrapper>\n  );\n}\n","import React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { I_CommentScene } from 'containers/Home/types';\nimport { Popover } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport LoadingContainer from '@components/LoadingContainer';\nimport { CommentSceneIconWrapper } from './styled';\n\nconst PopoverCommentScene = dynamic(() => import('./CommentScenePopover'));\nconst SvgContainer = dynamic(() => import('@components/SvgContainer'));\n\ninterface Props {\n  commentScene: I_CommentScene;\n  onCreateCommentScene: (data, krpanoInstance) => void;\n  onUpdateCommentScene: (data, krpanoInstance) => void;\n  onDeleteCommentScene: (data, krpanoInstace, isClosePopoverOnKrpano) => void;\n}\n\nexport type TypeRefCommentSceneIcon = {\n  onClose: () => void;\n};\n\nconst CommentSceneIcon = forwardRef(\n  (\n    {\n      commentScene,\n      onCreateCommentScene,\n      onUpdateCommentScene,\n      onDeleteCommentScene,\n    }: Props,\n    ref: Ref<TypeRefCommentSceneIcon>,\n  ) => {\n    const [isShow, setIsShow] = useState(false);\n    const [krpanoInstance] = useCollaborationMode('krpanoRef');\n    const [commentSceneSelected, setCommentSelected] = useCollaborationMode(\n      'commentSceneSelected',\n    );\n    const [loading] = useCollaborationMode('loading');\n\n    useEffect(\n      () => () => {\n        setIsShow(false);\n      },\n      [],\n    );\n\n    useEffect(() => {\n      if (commentSceneSelected) {\n        setIsShow(commentSceneSelected.id === commentScene.id);\n      } else setIsShow(false);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [commentSceneSelected]);\n\n    const onClosePopover = useCallback(() => {\n      setCommentSelected(null);\n    }, [setCommentSelected]);\n\n    const _onCreateCommentScene = useCallback(\n      data => onCreateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onCreateCommentScene],\n    );\n\n    const _onUpdateCommentScene = useCallback(\n      data => onUpdateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onUpdateCommentScene],\n    );\n\n    const _onDeleteCommentScene = useCallback(\n      (data, isClosePopover = false) =>\n        onDeleteCommentScene(data, krpanoInstance, isClosePopover),\n      [krpanoInstance, onDeleteCommentScene],\n    );\n\n    useImperativeHandle(ref, () => ({\n      onClose() {\n        setIsShow(false);\n        onClosePopover();\n      },\n    }));\n\n    return (\n      <Popover\n        open={isShow}\n        content={\n          <LoadingContainer loading={loading}>\n            <PopoverCommentScene\n              onClose={onClosePopover}\n              commentSceneSelected={commentScene}\n              onCreateCommentScene={_onCreateCommentScene}\n              onUpdateCommentScene={_onUpdateCommentScene}\n              onDeleteCommentScene={_onDeleteCommentScene}\n            />\n          </LoadingContainer>\n        }\n        placement=\"bottomLeft\"\n        destroyTooltipOnHide\n        trigger=\"click\"\n        zIndex={99}\n      >\n        <CommentSceneIconWrapper\n          // onClick={onClick}\n          className={commentScene.isResolved ? 'resolved' : ''}\n        >\n          <SvgContainer\n            src={`${process.env.NEXT_PUBLIC_ASSETS_URL}/core/comment.svg`}\n            name=\"4\"\n          />\n          <span className=\"--icon\">{commentScene?.index || 0}</span>\n        </CommentSceneIconWrapper>\n      </Popover>\n    );\n  },\n);\n\nexport default CommentSceneIcon;\n","/* eslint-disable no-nested-ternary */\nimport { I_Hotspot, I_Post } from '@containers/Home/types';\nimport dynamic from 'next/dynamic';\nimport React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { HotspotMediaWrapper } from './styled';\n\nconst DialogPostWithoutUseRedux = dynamic(\n  () => import('@components/DialogPost/DialogPostWithoutUseRedux'),\n);\n\ninterface Props {\n  hotspot: I_Hotspot;\n  listPost?: I_Post[];\n  isSoundOn?: boolean;\n  onClickHotspot: ({ hotspot }) => void;\n}\n\nexport type TypeRefHotspotMedia = {\n  onToggleMute: (isMute: boolean) => void;\n};\n\nconst HotspotMedia = forwardRef(\n  (\n    { hotspot, listPost, isSoundOn, onClickHotspot }: Props,\n    ref: Ref<TypeRefHotspotMedia>,\n  ) => {\n    const videoRef = useRef<HTMLVideoElement | null>(null!);\n    const [isVideoPlaying, setIsVideoPlaying] = useState(false);\n    const [visibleDialogPost, setVisibleDialogPost] = useState(false);\n\n    const postId = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-image'\n          ? hotspot?.config?.media?.post_id\n          : '',\n      [hotspot],\n    );\n    const type = useMemo(\n      () => hotspot?.config?.media?.type || 'media-video',\n      [hotspot],\n    );\n    const isVideoLoop = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.loop || false\n          : false,\n      [hotspot],\n    );\n    const isVideoAutoplay = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.autoPlay || false\n          : false,\n      [hotspot],\n    );\n    const videoVolume = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.volume || 0\n          : 0,\n      [hotspot],\n    );\n    const actionClick = useMemo(\n      () => hotspot?.config?.media?.action,\n      [hotspot],\n    );\n    const width = useMemo(\n      () => hotspot?.config?.media?.width || '250px',\n      [hotspot],\n    );\n    const height = useMemo(\n      () => hotspot?.config?.media?.height || '200px',\n      [hotspot],\n    );\n    const transform = useMemo(\n      () => hotspot?.config?.media?.transform || '',\n      [hotspot],\n    );\n    const rotate = useMemo(\n      () => hotspot?.config?.media?.rotate || 0,\n      [hotspot],\n    );\n    const backgroundColor = useMemo(\n      () => hotspot?.config?.media?.backgroundColor || '#00000000',\n      [hotspot],\n    );\n    const opacity = useMemo(\n      () => hotspot?.config?.media?.opacity || 1,\n      [hotspot],\n    );\n    const displayType = useMemo(\n      () => hotspot?.config?.media?.displayType || 'none',\n      [hotspot],\n    );\n    const content_post = useMemo(\n      () => hotspot?.config?.media?.content || '',\n      [hotspot],\n    );\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current)\n        if (isVideoAutoplay)\n          try {\n            videoRef.current.muted = true;\n            videoRef.current.autoplay = true;\n            setIsVideoPlaying(true);\n          } catch (err) {\n            console.error(err);\n          }\n        else videoRef.current.pause();\n    }, [isVideoAutoplay, type]);\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current) {\n        videoRef.current.volume = isSoundOn ? videoVolume / 100 : 0;\n        videoRef.current.muted = !isSoundOn || videoVolume === 0;\n      }\n    }, [videoVolume, isSoundOn, type]);\n\n    const onOpenDialogPost = useCallback(() => setVisibleDialogPost(true), []);\n    const onCloseDialogPost = useCallback(\n      () => setVisibleDialogPost(false),\n      [],\n    );\n\n    const onClick = useCallback(() => {\n      switch (type) {\n        case 'media-video':\n          switch (actionClick) {\n            case 'play/pause':\n              setIsVideoPlaying(videoRef.current?.paused || false);\n              if (videoRef.current?.paused) {\n                videoRef.current.play();\n              } else videoRef.current?.pause();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        case 'media-image':\n          switch (actionClick) {\n            case 'open-post':\n              onOpenDialogPost();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        default:\n          break;\n      }\n    }, [actionClick, hotspot, onClickHotspot, onOpenDialogPost, type]);\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        onToggleMute: isMute => {\n          if (videoRef.current) {\n            videoRef.current.muted = isMute;\n            videoRef.current.volume = !isMute ? videoVolume / 100 : 0;\n          }\n        },\n      }),\n      [videoVolume],\n    );\n\n    return (\n      <>\n        <HotspotMediaWrapper\n          width={width}\n          height={height}\n          opacity={opacity}\n          rotate={rotate}\n          transform={transform}\n          displayType={displayType}\n          backgroundColor={backgroundColor}\n        >\n          {type === 'media-video' ? (\n            <>\n              {actionClick && (\n                <i\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'play/pause'\n                      ? isVideoPlaying\n                        ? 'pause'\n                        : 'play'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <video\n                ref={videoRef}\n                loop={isVideoLoop}\n                autoPlay={true}\n                className=\"target\"\n                playsInline\n                muted={true}\n                preload=\"metadata\"\n              >\n                {hotspot?.config?.media?.type === 'media-video' &&\n                  hotspot?.config?.media?.mediaIOS?.src && (\n                    <source\n                      src={\n                        hotspot?.config?.media?.type === 'media-video'\n                          ? hotspot?.config?.media?.mediaIOS?.src + '#t=0.001'\n                          : ''\n                      }\n                      type='video/mp4; codecs=\"hvc1\"'\n                    />\n                  )}\n                <source\n                  src={hotspot?.config?.media?.media?.src || '' + '#t=0.001'}\n                  type={'video/mp4'}\n                />\n              </video>\n            </>\n          ) : type === 'media-image' ? (\n            <>\n              {actionClick && (\n                <i\n                  aria-hidden\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'open-post'\n                      ? 'info-circle'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <img\n                src={hotspot?.config?.media?.media?.src}\n                className=\"target\"\n                alt=\"\"\n              />\n            </>\n          ) : type === 'media-text' ? (\n            <div\n              className=\"target\"\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: content_post || '' }}\n              onClick={onClick}\n              onTouchStart={onClick}\n            />\n          ) : (\n            <div />\n          )}\n        </HotspotMediaWrapper>\n\n        {visibleDialogPost && postId && (\n          <DialogPostWithoutUseRedux\n            idPost={postId}\n            listPost={listPost || []}\n            visible={visibleDialogPost}\n            onCancel={onCloseDialogPost}\n          />\n        )}\n      </>\n    );\n  },\n);\n\nexport default HotspotMedia;\n","/* eslint-disable no-nested-ternary */\nimport {\n  CONFIG_POLYGON_HOTSPOT_DEFAULT,\n  DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT,\n  DEFAULT_CONFIG_SCENE_PLUGIN,\n} from '@containers/Home/constants';\nimport {\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useZoomKrpano,\n} from '@containers/Home/global/TourStats';\nimport {\n  I_CommentScene,\n  I_Hotspot,\n  I_NadirConfig,\n  I_PolygonHotspotConfigGlobal,\n  I_Scene,\n  I_SettingControlMode,\n  I_SettingViewMode,\n} from '@containers/Home/types';\nimport { separateColorAndTransparency } from '@utils/helper';\n// import Image from '@assets/img/Rectangle.png';\nimport { useCallback, useMemo } from 'react';\n\ninterface Props {\n  scene?: I_Scene;\n  krpanoId: string;\n}\n\nexport const useInternalFunction = ({ scene, krpanoId }: Props) => {\n  const _window = window as any;\n  const [, setZoomKrpano] = useZoomKrpano('zoom');\n  const [, setHLookatKrpano] = useHLookatKrpano('hlookat');\n  const [, setVLookatKrpano] = useVLookatKrpano('vlookat');\n\n  const sceneChilds = useMemo(\n    () =>\n      (\n        (scene?.mode === 'staging'\n          ? scene?.staging\n          : scene?.mode === 'day2dust'\n          ? scene?.day2dust\n          : []) || []\n      ).map(item => ({\n        ...item,\n        xml: item?.media?.krpano_xml || '',\n        urlTour:\n          item?.media?.src_preview ||\n          item?.media?.src_thumb ||\n          item?.media?.src,\n      })),\n    [scene],\n  );\n\n  const onTriggerChangeView = useCallback(() => {\n    _window[krpanoId].call(\n      `mod(cur_hlookat,${_window[krpanoId].get('view.hlookat')},360)`,\n    );\n    _window[krpanoId].call(\n      `mod(cur_Vlookat,${_window[krpanoId].get('view.vlookat')},360)`,\n    );\n\n    setHLookatKrpano(+_window[krpanoId].get('cur_hlookat'));\n    setVLookatKrpano(+_window[krpanoId].get('cur_Vlookat'));\n    _window[krpanoId].call('update_hotspot_visiblity()');\n  }, [_window, krpanoId, setHLookatKrpano, setVLookatKrpano]);\n\n  const onTriggerChangeZoom = useCallback(() => {\n    const fov = +_window[krpanoId].get('view.fov');\n    setZoomKrpano(fov);\n    _window[krpanoId].call(`update_hotspot_visiblity_zoom(${fov})`);\n  }, [_window, krpanoId, setZoomKrpano]);\n\n  const onTriggerLoadCompleted = useCallback(\n    (\n      isTurnOffFollowMode: boolean,\n      controlMode: I_SettingControlMode['mode'] = 'drag',\n    ) => {\n      if (scene?.media.subType !== 'flat')\n        _window[krpanoId].set('view.limitview', 'range');\n\n      setHLookatKrpano(\n        scene?.config?.default_view?.x ?? _window[krpanoId].get('view.hlookat'),\n      );\n      setVLookatKrpano(\n        scene?.config?.default_view?.y ?? _window[krpanoId].get('view.vlookat'),\n      );\n      setZoomKrpano(\n        scene?.config?.default_view?.zoom_lv ??\n          _window[krpanoId].get('view.fov'),\n      );\n\n      _window[krpanoId].set(\n        'showerrors',\n        process.env.NODE_ENV === 'development',\n      );\n      _window[krpanoId].set('logkey', process.env.NODE_ENV === 'development');\n      _window[krpanoId].set(\n        'debugmode',\n        process.env.NODE_ENV === 'development',\n      );\n\n      if (!isTurnOffFollowMode) _window[krpanoId].call(`followmouse_enable()`);\n      else _window[krpanoId].call(`followmouse_disable()`);\n\n      if (controlMode) {\n        _window[krpanoId].set('control.mode', controlMode);\n        _window[krpanoId].set(\n          'control.touchtype',\n          controlMode === 'drag' ? 'drag2d' : controlMode,\n        );\n      }\n    },\n    [\n      scene,\n      _window,\n      krpanoId,\n      setZoomKrpano,\n      setHLookatKrpano,\n      setVLookatKrpano,\n    ],\n  );\n\n  const onApplyConfigPluginKrpanoForScene = useCallback(() => {\n    Object.entries(DEFAULT_CONFIG_SCENE_PLUGIN).forEach(\n      ([keyParent, valueParent]) => {\n        Object.entries(valueParent).forEach(([keyChild, valueChild]) => {\n          const value =\n            scene &&\n            scene?.configPlugin &&\n            scene?.configPlugin[keyParent] &&\n            scene?.configPlugin[keyParent][keyChild]\n              ? scene?.configPlugin[keyParent][keyChild]\n              : valueChild;\n          _window[krpanoId].set(`plugin[${keyParent}].${keyChild}`, value);\n        });\n      },\n    );\n  }, [_window, krpanoId, scene]);\n\n  /**\n   * ! SET DEFAULT VIEW, LIMIT VIEW, LIMIT ZOOM\n   */\n  const onRenderXmlKrpano = useCallback(\n    (isLittlePlanetView = false, configView: I_SettingViewMode) => {\n      const transition =\n        scene?.config?.typeTransition === '3d'\n          ? 'OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)'\n          : scene?.config?.typeTransition;\n\n      let view = '';\n\n      const fovDefault = scene?.config?.isLittlePlanet\n        ? 170\n        : scene?.config?.default_view?.zoom_lv ??\n          (isLittlePlanetView ? 170 : 90);\n\n      if (scene?.media?.subType !== 'flat') {\n        view += '<view ';\n        if (isLittlePlanetView || scene?.config?.isLittlePlanet) {\n          view += `fov='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? 170\n              : fovDefault\n          }' fovmin='1' fovmax='179' hlookatmin='-180' hlookatmax='180' vlookatmin='-90' vlookatmax='90' vlookat='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? 90\n              : scene?.config?.default_view?.y ?? 90\n          }' hlookat='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? -60\n              : scene?.config?.default_view?.x ?? -60\n          }' stereographic='true' fisheye='1.0' fovtype='VFOV' limitview='lookat' /> <display flash10='off' detail='24' />`;\n        } else {\n          if (!configView?.mode || configView?.mode === 'normal') {\n            if (scene?.config?.default_view?.x !== undefined)\n              view += ` hlookat=\"${scene?.config?.default_view?.x}\"`;\n            if (scene?.config?.default_view?.y !== undefined)\n              view += ` vlookat=\"${scene?.config?.default_view?.y}\"`;\n            if (scene?.config?.default_view?.zoom_lv !== undefined)\n              view += ` fov=\"${\n                scene?.config?.typeTransition === '3d'\n                  ? fovDefault + 30\n                  : fovDefault\n              }\"`;\n            view += ` fovmin=\"${scene?.config?.zoom_limit?.min ?? 60.0}\"`;\n            view += ` fovmax=\"\n                ${scene?.config?.zoom_limit?.max ?? 150.0}\"`;\n            view += ' limitview=\"range\"';\n            view += ` hlookatmin=\"${scene?.config?.limit_view?.left ?? -180}\"`;\n            view += ` hlookatmax=\"${scene?.config?.limit_view?.right ?? 180}\"`;\n            view += ` vlookatmin=\"${scene?.config?.limit_view?.bottom ?? 90}\"`;\n            view += ` vlookatmax=\"${scene?.config?.limit_view?.top ?? -90}\"`;\n          } else if (configView.mode) {\n            view += `architecturalonlymiddle=\"${\n              configView?.architecturalonlymiddle || false\n            }\" `;\n            if (configView.mode === 'architecture')\n              view += `architectural=\"1.0\" pannini=\"0.0\" fisheye=\"0.0\"`;\n            if (configView.mode === 'fisheye')\n              view += `architectural=\"0.0\" pannini=\"1.0\" fisheye=\"0.35\"`;\n            if (configView.mode === 'pannini')\n              view += `architectural=\"0.0\" pannini=\"1.0\" fisheye=\"1.0\"`;\n            if (configView.mode === 'stereographic')\n              view += `architectural=\"0.0\" pannini=\"0.0\" fisheye=\"1.0\"`;\n          }\n          view += ' />';\n        }\n\n        view += `${\n          scene?.configPlugin?.lensflare?.enabled &&\n          scene?.configPlugin?.lensflare?.ath &&\n          scene?.configPlugin?.lensflare?.atv\n            ? `<include url=\"%$mypath%/core/skin/lensflare.xml\" /> <lensflare_settings editor=\"false\" ath=\"${\n                scene?.configPlugin?.lensflare?.ath ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.ath\n              }\" atv=\"${\n                scene?.configPlugin?.lensflare?.atv ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.atv\n              }\" sun=\"${\n                scene?.configPlugin?.lensflare?.sun ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.sun\n              }\" glare=\"${\n                scene?.configPlugin?.lensflare?.glare ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.glare\n              }\" r_ring=\"${\n                scene?.configPlugin?.lensflare?.r_ring ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.r_ring\n              }\" exposure=\"true\" exposure_bias=\"${\n                scene?.configPlugin?.lensflare?.exposure_bias ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.exposure_bias\n              }\"/>\n                  <plugin name=\"pp_light\" devices=\"html5\" keep=\"false\" url=\"%$mypath%/core/plugins/pp_light.js\" enabled=\"true\" exposure=\"0.0\" lights=\"0.0\" shadows=\"0.0\" filterrange=\"60.0\" masking=\"1.0\" quality=\"7\" order=\"\" phase=\"2\" />`\n            : ''\n        }`;\n      }\n      return { view, transition, fovDefault };\n    },\n    [scene],\n  );\n\n  /**\n   * @param {hotspot}: info hotspot\n   * @method {trigger sound play (hotspot instructor / hotspot sound)}\n   * @method {add hotspot}\n   */\n\n  const onTriggerSoundHotspot = useCallback(\n    (hotspot: I_Hotspot, isAllowTriggerSound: boolean) => {\n      if (_window[krpanoId] && isAllowTriggerSound) {\n        const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n          hotspot.polygon ? 'ispolygon' : 'unpolygon'\n        }`;\n        if (hotspot.type === 'sound') {\n          const xml = `sound1click(${name}, ${\n            hotspot?.config?.sound?.file?.src || hotspot?.config?.sound?.url\n          }, ${hotspot?.config?.sound?.action || 'pause'}, ${\n            hotspot.config?.sound?.volume\n              ? (hotspot.config.sound.volume / 100).toFixed(1)\n              : 0.4\n          }, ${\n            hotspot?.config?.sound?.reach\n              ? hotspot.config.sound.reach.toFixed(1)\n              : 240\n          }, ${hotspot?.config?.sound?.auto_play || false}, ${\n            hotspot?.config?.sound?.loop || false\n          })`;\n          _window[krpanoId].call(xml);\n        } else if (hotspot.type === 'instructor') {\n          _window[krpanoId].call(`hotspot[${name}].togglepause()`);\n          _window[krpanoId].set(\n            `hotspot['${name}'].muted`,\n            !hotspot.config?.instructor?.volume || !isAllowTriggerSound,\n          );\n        }\n      }\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotNadirKrpano = useCallback(\n    (nadirConfig: I_NadirConfig) => {\n      const krpano = _window[krpanoId];\n\n      const name = 'nadirlogo';\n      krpano.set(`hotspot['${name}'].ath`, +0);\n      krpano.set(`hotspot['${name}'].atv`, +90);\n      krpano.set(`hotspot['${name}'].zoom`, false);\n      krpano.set(`hotspot['${name}'].rotate`, 0);\n      krpano.set(`hotspot['${name}'].scale`, nadirConfig?.scale || 1);\n      krpano.set(`hotspot['${name}'].rotatewithview`, 'true');\n      krpano.set(`hotspot['${name}'].distorted`, true);\n      krpano.set(`hotspot['${name}'].url`, nadirConfig?.src || '');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        !!(nadirConfig?.isEnabled && nadirConfig?.src),\n      );\n      if (nadirConfig?.link)\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          window.open(nadirConfig?.link, '_blank');\n        });\n\n      if (nadirConfig?.isEnabled && nadirConfig?.src)\n        krpano.call(`addhotspot('${name}')`);\n    },\n    [_window, krpanoId],\n  );\n\n  const onBackNormalViewFromLittlePlanetView = useCallback(() => {\n    setTimeout(() => {\n      _window[krpanoId].call(\n        `normalview(${scene?.config?.default_view?.x || 0}, ${\n          scene?.config?.default_view?.y || 0\n        }, ${scene?.config?.default_view?.zoom_lv || 90}, ${scene?.config\n          ?.timeTransitionLittlePlanet})`,\n      );\n      setTimeout(\n        () => {\n          _window[krpanoId].set(\n            'view.fovmin',\n            scene?.config?.zoom_limit?.min ?? 60.0,\n          );\n          _window[krpanoId].set(\n            'view.fovmax',\n            scene?.config?.zoom_limit?.max ?? 150.0,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmin',\n            scene?.config?.limit_view?.left ?? -180,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmax',\n            scene?.config?.limit_view?.right ?? 180,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmin',\n            scene?.config?.limit_view?.bottom ?? 90,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmax',\n            scene?.config?.limit_view?.top ?? -90,\n          );\n          _window[krpanoId].call(\n            `tween(view.tx|view.ty|view.tz|view.ox|view.oy|view.oz|view.fisheye, calc(''+image.ox+'|'+image.oy+'|'+image.oz+'|0|0|0|0'), 0.1, default)`,\n          );\n        },\n        (scene?.config?.timeTransitionLittlePlanet || 2) * 1000 + 100,\n      );\n    }, 200);\n  }, [_window, krpanoId, scene]);\n\n  const onAddHotspotVRKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }-vrmode`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(\n        `hotspot['${name}'].url`,\n\n        hotspot?.config?.style?.type === 'image' &&\n          hotspot?.config?.style?.image?.src\n          ? hotspot?.config?.style?.image?.src\n          : hotspot.type === 'point'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/point.png`\n          : hotspot.type === 'image'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/image.png`\n          : hotspot.type === 'sound'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/sound.png`\n          : `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/video.png`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n      krpano.set(`hotspot['${name}'].width`, '32');\n      krpano.set(`hotspot['${name}'].height`, '32');\n      krpano.set(`hotspot['${name}'].imagewidth`, '24');\n      krpano.set(`hotspot['${name}'].imageheight`, '24');\n      krpano.set(`hotspot['${name}'].depth`, '1000');\n      krpano.set(`hotspot['${name}'].scale`, 1);\n      krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n      krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n      krpano.set(\n        `hotspot['${name}'].onover`,\n        'tween(scale,1.5,easeOutExpo,0.2);',\n      );\n      krpano.set(`hotspot['${name}'].onout`, 'tween(scale,1,easeOutExpo,0.2);');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(\n        `hotspot['${name}'].enabled`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(`hotspot['${name}'].align`, 'center');\n      krpano.set(`hotspot['${name}'].zoom`, true);\n\n      const nameTitle = `hotspot-${hotspot.id}-${krpanoId}-type${\n        hotspot.type\n      }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}-title-vrmode`;\n      krpano.set(`hotspot['${nameTitle}'].type`, 'text');\n      krpano.set(`hotspot['${nameTitle}'].scale`, '0.1');\n      krpano.set(`hotspot['${nameTitle}'].zoom`, true);\n      krpano.set(`hotspot['${nameTitle}'].align`, 'center');\n      krpano.set(`hotspot['${nameTitle}'].css`, 'font-size:12px;color:#ffffff');\n      krpano.set(`hotspot['${nameTitle}'].html`, hotspot.title);\n      krpano.set(`hotspot['${nameTitle}'].bg`, true);\n      krpano.set(`hotspot['${nameTitle}'].bgcolor`, '#000000');\n      krpano.set(`hotspot['${nameTitle}'].bgalpha`, '0.5');\n      krpano.set(`hotspot['${nameTitle}'].ath`, hotspot.ath);\n      krpano.set(`hotspot['${nameTitle}'].atv`, hotspot.atv - 3);\n      krpano.set(\n        `hotspot['${nameTitle}'].visible`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(\n        `hotspot['${nameTitle}'].enabled`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(`hotspot['${nameTitle}'].depth`, '100.0');\n\n      return { krpano, name, nameTitle };\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot, keepHotspotPositionWhenZooming = false) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }`;\n      krpano.set(`hotspot['${name}'].styleType`, hotspot.config?.style?.type);\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(\n        `hotspot['${name}'].minZoom`,\n        hotspot?.config?.style?.zoomRange?.min || 1,\n      );\n      krpano.set(\n        `hotspot['${name}'].maxZoom`,\n        hotspot?.config?.style?.zoomRange?.max || 179,\n      );\n      // krpano.set(`hotspot['${name}'].keep`, 'true');\n      krpano.set(`hotspot['${name}'].zoom`, !!keepHotspotPositionWhenZooming);\n      krpano.set(`hotspot['${name}'].capture`, 'true');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        hotspot.type !== 'chevron'\n          ? !krpano.get('webvr.isenabled') ?? true\n          : true,\n      );\n      krpano.set(\n        `hotspot['${name}'].enabled`,\n        hotspot.type !== 'chevron'\n          ? !krpano.get('webvr.isenabled') ?? true\n          : true,\n      );\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n\n      function onConfigHotspotPolygon(\n        polygonHotspotConfigGlobal: I_PolygonHotspotConfigGlobal,\n      ) {\n        krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n        const config = hotspot.polygon_config;\n        const fillColor = separateColorAndTransparency(\n          config?.properties?.fillColor ||\n            polygonHotspotConfigGlobal?.fillColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColor,\n        );\n        const fillColorHover = separateColorAndTransparency(\n          config?.properties?.fillColorHover ||\n            polygonHotspotConfigGlobal?.fillColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColorHover,\n        );\n        const borderColor = separateColorAndTransparency(\n          config?.properties?.borderColor ||\n            polygonHotspotConfigGlobal?.borderColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColor,\n        );\n        const borderColorHover = separateColorAndTransparency(\n          config?.properties?.borderColorHover ||\n            polygonHotspotConfigGlobal?.borderColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColorHover,\n        );\n        krpano.set(\n          `hotspot[${name}].fillcolor`,\n          fillColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].bordercolor`,\n          borderColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].borderwidth`,\n          config?.properties?.borderWidth ||\n            polygonHotspotConfigGlobal?.borderWidth ||\n            3,\n        );\n        krpano.set(`hotspot[${name}].fillalpha`, fillColor.alpha);\n        krpano.set(`hotspot[${name}].borderalpha`, borderColor.alpha);\n\n        krpano.set(`hotspot[${name}].tooltip`, hotspot.title);\n        krpano.set(`hotspot[${name}].zorder`, 1);\n\n        krpano.set(`hotspot[${name}].onhover`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColorHover.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${\n                borderColorHover.alpha\n              }, 0.2);`,\n          );\n        });\n        krpano.set(`hotspot[${name}].onout`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${borderColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `copy(layer[tooltip].html, );tween(layer[tooltip].alpha, 0.0, 0.25, default, set(layer[tooltip].visible,false), copy(layer[tooltip].x,mouse.stagex); copy(layer[tooltip].y,mouse.stagey); );`,\n          );\n        });\n\n        krpano.call(`hotspot[${name}].loadstyle(poly_hotspot_text)`);\n\n        if (config?.points?.length)\n          for (let i = 0; i < config?.points.length; i += 1) {\n            const coordinate = config?.points[i];\n            krpano.set(`hotspot[${name}].point[${i}].ath`, coordinate.ath);\n            krpano.set(`hotspot[${name}].point[${i}].atv`, coordinate.atv);\n          }\n      }\n\n      function onConfigHotspotMedia() {\n        krpano.set(`hotspot['${name}'].distorted`, 'true');\n        krpano.set(`hotspot['${name}'].rx`, '0');\n        krpano.set(`hotspot['${name}'].ry`, '0');\n        krpano.set(`hotspot['${name}'].rz`, '0');\n        krpano.set(`hotspot['${name}'].cursor`, 'unset');\n        krpano.set(`hotspot['${name}'].capture`, false);\n\n        krpano.set(`hotspot['${name}'].usecontentsize`, 'true');\n      }\n\n      function onConfigHotspotInstructor(isAllowTriggerSound: boolean) {\n        krpano.set(\n          `hotspot['${name}'].url`,\n          '%$mypath%/core/plugins/videoplayer.js',\n        );\n        krpano.set(\n          `hotspot['${name}'].videourl`,\n          hotspot.config?.instructor?.media?.src,\n        );\n        krpano.set(`hotspot['${name}'].renderer`, 'auto');\n        krpano.set(`hotspot['${name}'].distorted`, true);\n        krpano.set(`hotspot['${name}'].zoom`, false);\n        krpano.set(`hotspot['${name}'].autoresume`, true);\n        krpano.set(\n          `hotspot['${name}'].muted`,\n          !hotspot.config?.instructor?.volume || !isAllowTriggerSound,\n        );\n        if (!isAllowTriggerSound)\n          krpano.set(`hotspot['${name}'].pausedonstart`, true);\n        else\n          krpano.set(\n            `hotspot['${name}'].pausedonstart`,\n            hotspot.config?.instructor?.paused_on_start ??\n              DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.paused_on_start,\n          );\n        krpano.set(\n          `hotspot['${name}'].loop`,\n          hotspot.config?.instructor?.loop ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.loop,\n        );\n        krpano.set(\n          `hotspot['${name}'].directionalsound`,\n          hotspot.config?.instructor?.sound_360 ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.sound_360,\n        );\n        krpano.set(\n          `hotspot['${name}'].volume`,\n          hotspot.config?.instructor?.volume ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.volume,\n        );\n        const maskColor = separateColorAndTransparency(\n          hotspot.config?.instructor?.mask ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.mask,\n        );\n        krpano.set(\n          `hotspot[${name}].chromakey`,\n          `${maskColor.color.replace('#', '0x')}|${\n            hotspot.config?.instructor?.smoothing ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.smoothing\n          }|${\n            hotspot.config?.instructor?.threshold ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.threshold\n          }`,\n        );\n        const width =\n          hotspot.config?.instructor?.width ??\n          DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.width;\n        krpano.set(`hotspot['${name}'].width`, width);\n        const height =\n          hotspot.config?.instructor?.height ??\n          DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.height;\n        krpano.set(`hotspot['${name}'].height`, height);\n      }\n\n      return {\n        name,\n        krpano,\n        onConfigHotspotMedia,\n        onConfigHotspotPolygon,\n        onConfigHotspotInstructor,\n      };\n    },\n    [krpanoId, _window],\n  );\n\n  const onAddCommentSceneIconUtils = useCallback(\n    (\n      commentScene: Partial<I_CommentScene>,\n      isCommentSceneTemporary = false,\n    ) => {\n      const krpano = _window[krpanoId];\n      const name = `commentscene-${commentScene?.id}-${krpanoId}${\n        isCommentSceneTemporary ? '-temporary' : ''\n      }`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      if (scene?.media.subType !== 'flat') {\n        krpano.set(`hotspot['${name}'].capture`, false);\n        krpano.set(`hotspot['${name}'].zoom`, true);\n      }\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n      krpano.set(`hotspot['${name}'].ath`, +(commentScene?.ath ?? 0));\n      krpano.set(`hotspot['${name}'].atv`, +(commentScene?.atv ?? 0));\n      krpano.set(\n        `hotspot['${name}'].url`,\n        `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n      return { krpano, name };\n    },\n    [_window, scene, krpanoId],\n  );\n\n  return useMemo(\n    () => ({\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onBackNormalViewFromLittlePlanetView,\n      onApplyConfigPluginKrpanoForScene,\n    }),\n    [\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onBackNormalViewFromLittlePlanetView,\n      onApplyConfigPluginKrpanoForScene,\n    ],\n  );\n};\n","import { openMessageWithIcon } from './helper';\n\ninterface DocumentWithFullscreen extends HTMLDocument {\n  mozFullScreenElement?: Element;\n  msFullscreenElement?: Element;\n  webkitFullscreenElement?: Element;\n  msExitFullscreen?: () => void;\n  mozCancelFullScreen?: () => void;\n  webkitExitFullscreen?: () => void;\n}\n\nexport function isSupportFullScreen(): boolean {\n  const body = document.body as DocumentElementWithFullscreen;\n  if (\n    body.requestFullscreen ||\n    body.msRequestFullscreen ||\n    body.webkitRequestFullscreen ||\n    body.mozRequestFullScreen\n  )\n    return true;\n  return false;\n}\n\nexport function isFullScreen(): boolean {\n  const doc = document as DocumentWithFullscreen;\n  return !!(\n    doc.fullscreenElement ||\n    doc.mozFullScreenElement ||\n    doc.webkitFullscreenElement ||\n    doc.msFullscreenElement\n  );\n}\n\ninterface DocumentElementWithFullscreen extends HTMLElement {\n  msRequestFullscreen?: () => void;\n  mozRequestFullScreen?: () => void;\n  webkitRequestFullscreen?: () => void;\n}\n\nexport function requestFullScreen(element: DocumentElementWithFullscreen) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else {\n    openMessageWithIcon(\n      'error',\n      'Your browser does not support fullscreen mode',\n    );\n  }\n}\n\nexport function exitFullScreen(doc: DocumentWithFullscreen) {\n  if (doc.exitFullscreen) {\n    doc.exitFullscreen();\n  } else if (doc.msExitFullscreen) {\n    doc.msExitFullscreen();\n  } else if (doc.webkitExitFullscreen) {\n    doc.webkitExitFullscreen();\n  } else if (doc.mozCancelFullScreen) {\n    doc.mozCancelFullScreen();\n  }\n}\n\nexport function toogleFullScreen(): void {\n  if (!isFullScreen()) {\n    requestFullScreen(document.body);\n  } else {\n    exitFullScreen(document);\n  }\n}\n","import { I_CommentScene, I_Hotspot, I_Scene } from '@containers/Home/types';\nimport {\n  debounce,\n  generateRandomID,\n  isServer,\n  isValidHttpUrl,\n  separateColorAndTransparency,\n} from '@utils/helper';\nimport { renderToString } from 'react-dom/server';\nimport { Root, createRoot } from 'react-dom/client';\nimport React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useState,\n  memo,\n  useImperativeHandle,\n  useRef,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport {\n  selectConfigProjectionModeProject,\n  selectConfigControlModeProject,\n  selectConfigScreenshotCapture,\n  selectConfigViewModeProject,\n  selectDollhouseConfigGlobal,\n  selectHotspotConfigGlobal,\n  selectPolygonConfigGlobal,\n  selectListPostUsedOnTour,\n  selectLanguageProject,\n  selectIsFirstScene,\n  selectTenant,\n} from '@containers/Home/selectors';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport { useCommentScene } from '@containers/Home/hook/useCommentScene';\nimport CommentSceneIcon, {\n  TypeRefCommentSceneIcon,\n} from '@containers/Home/components/Collaboration/CommentScene/CommentSceneIcon';\nimport HotspotMedia, {\n  TypeRefHotspotMedia,\n} from '@components/Hotspot/HotspotMedia';\nimport KRPANO from './KrpanoTemplate';\nimport { IPropKrpano, Type_RefFuncKrpano } from './types';\nimport { useInternalFunction } from './useInternalFunction';\nimport { BG_COLOR_DOLLHOUSE_DEFAULT } from '@containers/Home/constants';\nimport { toogleFullScreen } from '@utils/fullscreen';\n\nconst Hotspot = dynamic(() => import('@components/Hotspot'));\nconst HotspotCompact = dynamic(\n  () => import('@components/Hotspot/HotspotCompact'),\n);\nconst _window = isServer ? undefined : (window as any);\n\nconst KrpanoViewer = forwardRef(\n  (\n    {\n      scene,\n      listScene = [],\n      urlTour,\n      divId = 'container',\n      krpanoId = 'krpanoContainer',\n      dollhouseXml = '',\n      onClickHotspot,\n      onChangeAutoChangeScene,\n      isLoaded,\n      setIsLoaded,\n      nadirConfig,\n      children,\n      styleContainer = { height: '100%' },\n      isTurnOffFollowMode = false,\n      onChangeScene,\n    }: IPropKrpano,\n    ref: React.Ref<Type_RefFuncKrpano>,\n  ) => {\n    const isLoadedRef = useRef(false);\n    const isAllowTriggerSoundRef = useRef(false);\n    const containerRef = useRef<HTMLDivElement>(null!);\n    // NOTE: store to control close/unmount popover when change scene/commentScene\n    const listCommentSceneIconRef = useRef<\n      Map<string, TypeRefCommentSceneIcon>\n    >(new Map([]));\n    const listCommentSceneIconRootRef = useRef<Map<string, Root>>(new Map([]));\n    // NOTE: store to control volume (mute/unmute) on hotspot media video\n    const listHotspotMediaVideoRef = useRef<Map<string, TypeRefHotspotMedia>>(\n      new Map([]),\n    );\n\n    const tenant = useSelector(selectTenant);\n    const isFirstScene = useSelector(selectIsFirstScene);\n    const listPost = useSelector(selectListPostUsedOnTour);\n    const languageProject = useSelector(selectLanguageProject);\n    const hotspotConfigGlobal = useSelector(selectHotspotConfigGlobal);\n    const configViewModeProject = useSelector(selectConfigViewModeProject);\n    const dollhouseConfigGlobal = useSelector(selectDollhouseConfigGlobal);\n    const polygonHotspotConfigGlobal = useSelector(selectPolygonConfigGlobal);\n    const configControlModeProject = useSelector(\n      selectConfigControlModeProject,\n    );\n    const configProjectionModeProject = useSelector(\n      selectConfigProjectionModeProject,\n    );\n    const configScreenshotCapture = useSelector(selectConfigScreenshotCapture);\n\n    const [krpanoView, setKrpanoView] = useState<any>();\n    const [isAllowTriggerSound, setIsAllowTriggerSound] = useState(false);\n\n    const { onCreateCommentScene, onUpdateCommentScene, onDeleteCommentScene } =\n      useCommentScene();\n    const [, setIsShowDialogCreateCommentScene] = useCollaborationMode(\n      'isShowDialogCreateCommentScene',\n    );\n    const [, setCommentSceneTemporary] = useCollaborationMode(\n      'commentSceneTemporary',\n    );\n    const [, setCommentSelected] = useCollaborationMode('commentSceneSelected');\n\n    const {\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onApplyConfigPluginKrpanoForScene,\n      onBackNormalViewFromLittlePlanetView,\n    } = useInternalFunction({\n      scene,\n      krpanoId,\n    });\n\n    // NOTE: use ref to store state because function used in event onclick hotspot (state won't update on event's function)\n    useEffect(() => {\n      isAllowTriggerSoundRef.current = isAllowTriggerSound;\n    }, [isAllowTriggerSound]);\n\n    // NOTE: reset state when scene change => only trigger sound when isAllowTriggerSound = true\n\n    /**\n     * SECTION: LOAD_SCENE_TO_KRPANO\n     * @param {scene}: current scene selected\n     * @param {sceneXml}: default by null, use krpano_xml on media if exist.\n     */\n\n    const loadSceneToView = useCallback(\n      (myscene: I_Scene) => {\n        if (myscene && myscene.media && krpanoView) {\n          const { transition, view, fovDefault } = onRenderXmlKrpano(\n            configProjectionModeProject?.mode === 'little_planet',\n            configViewModeProject,\n          );\n\n          const bgColorDollhouse = separateColorAndTransparency(\n            dollhouseConfigGlobal?.bgColor || BG_COLOR_DOLLHOUSE_DEFAULT,\n          );\n\n          _window[krpanoId].set(\n            'dollhouse_bg_color',\n            bgColorDollhouse.color.replace('#', '0x'),\n          );\n\n          if (isFirstScene && !!dollhouseConfigGlobal?.isShowOnStart)\n            _window[krpanoId].call('hideHTML()');\n\n          krpanoView.loadScene(\n            urlTour,\n            null,\n            myscene.media.krpano_xml || null,\n            transition,\n            view,\n            myscene.mode || '',\n            sceneChilds,\n            myscene.configStaging || {},\n            fovDefault,\n            myscene.media.subType,\n            dollhouseXml,\n            isFirstScene && !!dollhouseConfigGlobal?.isShowOnStart,\n          );\n        }\n      },\n      [\n        urlTour,\n        krpanoId,\n        krpanoView,\n        sceneChilds,\n        dollhouseXml,\n        isFirstScene,\n        onRenderXmlKrpano,\n        configViewModeProject,\n        dollhouseConfigGlobal?.bgColor,\n        configProjectionModeProject?.mode,\n        dollhouseConfigGlobal?.isShowOnStart,\n      ],\n    );\n\n    /**\n     * !SECTION: END_LOAD_SCENE_TO_KRPANO\n     */\n\n    const onAddHotspotVRKrpano = useCallback(\n      async (hotspot: I_Hotspot) => {\n        const { krpano, name, nameTitle } = onAddHotspotVRKrpanoUtils(hotspot);\n        const onClick = () => {\n          if (hotspot.type === 'point') onClickHotspot({ hotspot });\n          else if (hotspot.type === 'sound')\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          else if (hotspot.type === 'image')\n            krpano.call(\n              `open_galleries(\"${name}\", \"${(\n                hotspot.config?.image?.galleries || []\n              )\n                .map(item => item.src)\n                .join(',')}\")`,\n            );\n          else if (hotspot.type === 'video')\n            krpano.call(\n              `open_video(\"${name}\", \"${hotspot?.config?.video?.url}\")`,\n            );\n        };\n        krpano.set(`hotspot['${name}'].onclick`, onClick);\n        krpano.set(`hotspot['${nameTitle}'].onclick`, onClick);\n\n        krpano.call(`addhotspot('${nameTitle}')`);\n        krpano.call(`addhotspot('${name}')`);\n\n        return new Promise(resolve => resolve(true));\n      },\n      [onAddHotspotVRKrpanoUtils, onClickHotspot, onTriggerSoundHotspot],\n    );\n\n    const onAddHotspotKrpano = useCallback(\n      async (\n        hotspot: I_Hotspot,\n        isReloadHotspot = false,\n        patchConfig: any = undefined,\n      ) => {\n        const {\n          name,\n          krpano,\n          onConfigHotspotMedia,\n          onConfigHotspotPolygon,\n          onConfigHotspotInstructor,\n        } = onAddHotspotKrpanoUtils(\n          hotspot,\n          scene?.media.subType === 'flat'\n            ? true\n            : !!hotspotConfigGlobal?.keepHotspotPositionWhenZooming,\n          // patchConfig,\n        );\n\n        if (scene?.media.subType === 'flat')\n          krpano.set(`hotspot['${name}'].scale`, 0.01);\n\n        async function renderHotspot() {\n          krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          const hs = krpano.get(`hotspot[${name}]`);\n          const contentString = (\n            <div\n              id={name}\n              className={`inline-flex ${\n                hotspotConfigGlobal?.lockHotspot &&\n                (hotspot.type !== 'media' ||\n                  hotspot.config?.media?.type !== 'media-image')\n                  ? 'absolute-center'\n                  : ''\n              }`}\n            />\n          );\n          // krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          // krpano.set(`hotspot['${name}'].type`, 'html');\n          // krpano.set(`hotspot['${name}'].htmloverflow`, 'visible');\n          // hs.html = renderToString(contentString).toString();\n          hs['sprite'].innerHTML = renderToString(contentString).toString();\n          const node = document.getElementById(name);\n          if (node) {\n            const root = createRoot(node);\n            root.render(\n              hotspot.type === 'media' ? (\n                <HotspotMedia\n                  ref={r => {\n                    if (\n                      r &&\n                      hotspot.config?.media?.type === 'media-video' &&\n                      !listHotspotMediaVideoRef.current.get(hotspot.id)\n                    )\n                      listHotspotMediaVideoRef.current.set(hotspot.id, r);\n                  }}\n                  onClickHotspot={onClickHotspot}\n                  isSoundOn={isAllowTriggerSoundRef.current}\n                  hotspot={hotspot}\n                  listPost={listPost}\n                />\n              ) : hotspot.type === 'compact' ? (\n                <HotspotCompact\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  languageSelected={languageProject}\n                  onClick={({ type, config }) => {\n                    const newHotspot = {\n                      ...hotspot,\n                      config: { ...hotspot.config },\n                    };\n                    if (type) newHotspot.type = type;\n                    if (config) newHotspot.config[type] = config;\n                    onClickHotspot({ hotspot: newHotspot });\n                  }}\n                />\n              ) : (\n                <Hotspot\n                  onClick={() => {\n                    if (hotspot.config?.sound !== undefined)\n                      onTriggerSoundHotspot(\n                        hotspot,\n                        isAllowTriggerSoundRef.current,\n                      );\n                    else if (\n                      hotspot.type === 'point' &&\n                      hotspot.config?.point?.isTransition &&\n                      hotspot.config?.point?.typeTransition === '3d'\n                    ) {\n                      krpano.call(`transition_click(${name})`);\n                      setTimeout(() => {\n                        // if (hotspot.config?.sound !== undefined)\n                        //   onTriggerSoundHotspot(\n                        //     hotspot,\n                        //     isAllowTriggerSoundRef.current,\n                        //   );\n                        // else\n                        onClickHotspot({ hotspot });\n                      }, 100);\n                    } else onClickHotspot({ hotspot });\n                  }}\n                  isHidden={\n                    hotspot.type === 'sound' && !hotspot.config?.sound?.action\n                  }\n                  isHideTitleGlobal={!!hotspotConfigGlobal?.hideTitle}\n                  isHidePreviewGlobal={!!hotspotConfigGlobal?.hidePreview}\n                  isHideTitleOnTopGlobal={\n                    !!hotspotConfigGlobal?.hideTitleOnTopHotspot\n                  }\n                  bgColorDefault={hotspotConfigGlobal?.bgColor}\n                  iconColorDefault={hotspotConfigGlobal?.iconColor}\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  listPost={listPost}\n                  onChangePopover={visible => onChangeAutoChangeScene(!visible)}\n                />\n              ),\n            );\n          }\n        }\n\n        if (hotspot.polygon && hotspot.polygon_config) {\n          onConfigHotspotPolygon(polygonHotspotConfigGlobal);\n          krpano.set(`hotspot['${name}'].onclick`, () => {\n            if (krpano.get('webvr.isenabled')) {\n              if (hotspot.type === 'point') onClickHotspot({ hotspot });\n              else if (hotspot.type === 'image')\n                krpano.call(\n                  `open_galleries(\"${name}\", \"${(\n                    hotspot.config?.image?.galleries || []\n                  ).map(item => item.src)}\")`,\n                );\n              else if (hotspot.type === 'video')\n                krpano.call(\n                  `open_video(\"${name}\", \"${\n                    hotspot.config?.video?.url || ''\n                  }\")`,\n                );\n            } else {\n              onClickHotspot({ hotspot });\n            }\n          });\n        } else if (!hotspot.polygon) {\n          krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n          krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n          // krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          if (hotspot.type === 'chevron') {\n            krpano.set(`hotspot['${name}'].style`, 'skin_hotspotstyle');\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              if (\n                hotspot.config?.chevron?.isTransition &&\n                hotspot.config?.chevron?.typeTransition === '3d'\n              ) {\n                krpano.call(`transition_click(${name})`);\n                setTimeout(() => {\n                  onClickHotspot({ hotspot });\n                }, 100);\n              } else onClickHotspot({ hotspot });\n            });\n          } else\n            krpano.set(\n              `hotspot['${name}'].distorted`,\n              hotspot.config?.style?.distorted ||\n                hotspotConfigGlobal?.hotspotDistort?.[hotspot.type] ||\n                false,\n            );\n          if (hotspot.type === 'media') onConfigHotspotMedia();\n          if (\n            hotspot.type === 'instructor' &&\n            hotspot.config?.instructor?.media?.src\n          ) {\n            onConfigHotspotInstructor(isAllowTriggerSoundRef.current);\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n            });\n          } else if (hotspot.type === 'patch') {\n            krpano.set(\n              `hotspot['${name}'].width`,\n              hotspot.config?.patch?.width || 50,\n            );\n            krpano.set(\n              `hotspot['${name}'].height`,\n              hotspot.config?.patch?.height || 50,\n            );\n            krpano.set(`hotspot['${name}'].distorted`, true);\n            krpano.set(`hotspot['${name}'].rx`, 0);\n            krpano.set(`hotspot['${name}'].ry`, 0);\n            krpano.set(`hotspot['${name}'].rz`, 0);\n            krpano.set(`hotspot['${name}'].usecontentsize`, true);\n            krpano.set(`hotspot[${name}].zoom`, true);\n\n            const layers = hotspot.config?.patch?.layers || [];\n            const topmostVisibleLayer = layers.find(\n              layer => layer.visible !== false && layer.action === 'none',\n            );\n            const topmostHoverLayer = layers.find(\n              layer => layer.visible !== false && layer.action === 'hover',\n            );\n            const topmostClickLayer = layers.find(\n              layer => layer.visible !== false && layer.action === 'click',\n            );\n\n            const imageUrl =\n              topmostVisibleLayer?.src || hotspot.config?.patch?.src || '';\n            const cacheBustedUrl = imageUrl\n              ? `${imageUrl}`\n              : `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`;\n\n            krpano.set(`hotspot['${name}'].url`, cacheBustedUrl);\n            krpano.set(`hotspot['${name}'].zorder`, 3);\n            if (patchConfig?.action) krpano.set(`hotspot['${name}'].zorder`, 1);\n\n            if (topmostHoverLayer && hotspot.config?.patch) {\n              await onAddHotspotKrpano(\n                {\n                  ...hotspot,\n                  config: {\n                    ...hotspot.config,\n                    patch: {\n                      ...hotspot.config?.patch,\n                      layers: [],\n                      src: topmostHoverLayer.src,\n                    },\n                  },\n                },\n                isReloadHotspot,\n                { action: 'hover' },\n              );\n              krpano.set(`hotspot['${name}'].onover`, () => {\n                krpano.call(`tween_hotspot(${name}, ${name}-hover);`);\n              });\n              krpano.set(`hotspot['${name}'].onout`, () => {\n                krpano.call(`tween_hotspot(${name}-hover, ${name});`);\n              });\n            }\n            if (topmostClickLayer && hotspot.config?.patch)\n              krpano.set(`hotspot['${name}'].onclick`, () => {\n                const url = krpano.get(`hotspot['${name}'].url`);\n                krpano.call(\n                  `click_hotspot(${name}, ${\n                    url === cacheBustedUrl\n                      ? topmostClickLayer.src\n                      : cacheBustedUrl\n                  });`,\n                );\n              });\n          } else {\n            krpano.set(\n              `hotspot['${name}'].url`,\n              `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n            );\n            krpano.set(`hotspot['${name}'].width`, 1);\n            krpano.set(`hotspot['${name}'].height`, 1);\n            krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          }\n\n          await krpano.set(`hotspot['${name}'].onloaded`, async () => {\n            if (\n              hotspot.type !== 'patch' &&\n              hotspot.type !== 'chevron' &&\n              hotspot.type !== 'instructor'\n            )\n              renderHotspot();\n          });\n        }\n        krpano.set(`hotspot[${name}].capture`, false);\n\n        if (!isReloadHotspot) krpano.call(`addhotspot('${name}')`);\n        else if (\n          !hotspot.polygon &&\n          hotspot.type !== 'patch' &&\n          hotspot.type !== 'chevron' &&\n          hotspot.type !== 'instructor'\n        )\n          renderHotspot();\n\n        krpano.set(`hotspot[${name}].capture`, false);\n\n        return new Promise(resolve => resolve(true));\n      },\n      [\n        scene,\n        listPost,\n        listScene,\n        onClickHotspot,\n        languageProject,\n        hotspotConfigGlobal,\n        onTriggerSoundHotspot,\n        onChangeAutoChangeScene,\n        onAddHotspotKrpanoUtils,\n        polygonHotspotConfigGlobal,\n      ],\n    );\n\n    /**\n     * SECTION: COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    const renderHTMLCommentSceneIcon = useCallback(\n      async (krpano, name, commentScene: I_CommentScene) => {\n        const hs = krpano.get(`hotspot[${name}]`);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].onDragend`, () => {\n            const newData = {\n              ath: krpano.get(`hotspot['${name}'].ath`),\n              atv: krpano.get(`hotspot['${name}'].atv`),\n            };\n            if (\n              Math.abs(Math.abs(commentScene.ath) - Math.abs(newData.ath)) <\n                0.0001 &&\n              Math.abs(Math.abs(commentScene.atv) - Math.abs(newData.atv)) <\n                0.0001\n            ) {\n            } else\n              onUpdateCommentScene({\n                ...commentScene,\n                ...newData,\n                message: undefined,\n                isResolved: undefined,\n                scene_id: commentScene.scene,\n              });\n          });\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          setCommentSelected(commentScene);\n        });\n        let node = document.getElementById(name);\n        if (node) {\n          // NOTE: close all popover active on screen\n          // NOTE: unmount old component when replace (fixed bug: 2 popover show same time)\n          if (\n            listCommentSceneIconRef.current.size &&\n            listCommentSceneIconRef.current.get(commentScene.id)\n          )\n            listCommentSceneIconRef.current?.get(commentScene?.id)?.onClose();\n\n          if (listCommentSceneIconRootRef.current.size) {\n            const root = listCommentSceneIconRootRef.current.get(\n              `${commentScene.id}_root`,\n            );\n            if (root) await root.unmount();\n          }\n        }\n        const contentString = <div id={name} className=\"inline-flex\" />;\n        hs.sprite.innerHTML = renderToString(contentString).toString();\n        node = document.getElementById(name);\n        if (node) {\n          const root = createRoot(node);\n          listCommentSceneIconRootRef.current.set(\n            `${commentScene.id}_root`,\n            root,\n          );\n          root.render(\n            <CommentSceneIcon\n              ref={r => {\n                if (r) listCommentSceneIconRef.current.set(commentScene.id, r);\n              }}\n              commentScene={commentScene}\n              onCreateCommentScene={onCreateCommentScene}\n              onUpdateCommentScene={onUpdateCommentScene}\n              onDeleteCommentScene={onDeleteCommentScene}\n            />,\n          );\n        }\n      },\n      [\n        setCommentSelected,\n        onCreateCommentScene,\n        onDeleteCommentScene,\n        onUpdateCommentScene,\n      ],\n    );\n\n    const onAddCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene, isReloadHTML = false) => {\n        const { krpano, name } = onAddCommentSceneIconUtils(commentScene);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].ondown`, 'draghotspot()');\n        krpano.set(`hotspot['${name}'].onloaded`, () => {\n          renderHTMLCommentSceneIcon(krpano, name, commentScene);\n        });\n        if (!isReloadHTML) krpano.call(`addhotspot('${name}')`);\n        else renderHTMLCommentSceneIcon(krpano, name, commentScene);\n      },\n      [renderHTMLCommentSceneIcon, onAddCommentSceneIconUtils],\n    );\n\n    const onRemoveCommentSceneKrpano = useCallback(\n      id =>\n        _window[krpanoId].call(\n          `removehotspot('commentscene-${id}-${krpanoId}')`,\n        ),\n      [krpanoId],\n    );\n\n    const onReplaceCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene) =>\n        onAddCommentSceneKrpano(commentScene, true),\n      [onAddCommentSceneKrpano],\n    );\n\n    /**\n     * !SECTION: END_COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    /**\n     * SECTION: LISTEN EVENT\n     */\n    const onReloadAllHotspots = useCallback(\n      (hotspots: I_Hotspot[] = [], isReload = false) => {\n        hotspots?.map(item => onAddHotspotKrpano(item, isReload));\n      },\n      [onAddHotspotKrpano],\n    );\n\n    const onChangeView = debounce(() => onTriggerChangeView(), 150);\n\n    const onChangeZoom = debounce(() => onTriggerChangeZoom(), 150);\n\n    const onLoadNewSceneVR = useCallback(() => {\n      const sceneId = _window[krpanoId].get('sceneId');\n      if (sceneId) {\n        if (scene?.id === sceneId && !isFirstScene)\n          window[krpanoId].call('reset_view()');\n        else onChangeScene(sceneId);\n      }\n    }, [isFirstScene, krpanoId, onChangeScene, scene?.id]);\n\n    const onLoadComplete = useCallback(async () => {\n      if (scene && !isLoadedRef.current) {\n        if (!isFirstScene || !dollhouseConfigGlobal?.isShowOnStart) {\n          onApplyConfigPluginKrpanoForScene();\n\n          if (\n            isFirstScene &&\n            scene?.config?.isLittlePlanet &&\n            scene.media.subType !== 'flat' &&\n            configProjectionModeProject?.mode !== 'little_planet'\n          )\n            onBackNormalViewFromLittlePlanetView();\n          if (\n            !scene?.config?.isLittlePlanet &&\n            configProjectionModeProject?.mode !== 'little_planet'\n          )\n            _window[krpanoId].call(\n              `tween(view.tx|view.ty|view.tz|view.ox|view.oy|view.oz|view.fisheye, calc(''+image.ox+'|'+image.oy+'|'+image.oz+'|0|0|0|0'), 0.1, default)`,\n            );\n\n          onTriggerLoadCompleted(\n            isTurnOffFollowMode || scene.media.subType === 'flat',\n            configControlModeProject.mode || 'drag',\n          );\n\n          scene.media.subType !== 'flat' &&\n            nadirConfig &&\n            onAddHotspotNadirKrpano(nadirConfig);\n\n          if (scene?.media.subType === 'flat') {\n            _window[krpanoId].set('view.rx', 0);\n            _window[krpanoId].set('view.ry', 0);\n            _window[krpanoId].set('view.rz', 0);\n          }\n\n          if (scene?.hotspots)\n            for (let i = 0; i < scene.hotspots.length; i++) {\n              const hotspot = scene.hotspots[i];\n              if (\n                hotspot.polygon ||\n                hotspot.type === 'chevron' ||\n                hotspot.type === 'patch' ||\n                hotspot.type === 'instructor' ||\n                !_window[krpanoId].get('webvr.isenabled')\n              )\n                await onAddHotspotKrpano(hotspot);\n              if (\n                !hotspot.polygon &&\n                (hotspot.type === 'point' ||\n                  (hotspot.type === 'video' &&\n                    hotspot.config?.video?.url?.endsWith('.mp4')) ||\n                  (hotspot.type === 'sound' && hotspot.config?.sound?.action) ||\n                  hotspot.type === 'image')\n              )\n                await onAddHotspotVRKrpano(hotspot);\n            }\n        }\n        // NOTE: init garrows plugin\n        // _window[krpanoId].call('hide_hotspots_no_vr()');\n        _window[krpanoId].call('garrows_init()');\n        _window[krpanoId].call('update_hotspot_visiblity()');\n        _window[krpanoId].call(\n          `update_hotspot_visiblity_zoom(${\n            scene?.config?.default_view?.zoom_lv || 90\n          })`,\n        );\n        isLoadedRef.current = true;\n        setIsLoaded(true);\n      }\n    }, [\n      scene,\n      krpanoId,\n      setIsLoaded,\n      nadirConfig,\n      isFirstScene,\n      onAddHotspotKrpano,\n      isTurnOffFollowMode,\n      onAddHotspotVRKrpano,\n      dollhouseConfigGlobal,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      configControlModeProject.mode,\n      configProjectionModeProject?.mode,\n      onApplyConfigPluginKrpanoForScene,\n      onBackNormalViewFromLittlePlanetView,\n    ]);\n\n    const onTriggerCreateCommentSceneKrpano = useCallback(() => {\n      const x = _window[krpanoId].get('mouse.clickx');\n      const y = _window[krpanoId].get('mouse.clicky');\n      const location = _window[krpanoId].screentosphere(x, y);\n      const commentSceneTemporary = {\n        id: generateRandomID(),\n        ath: location.x,\n        atv: location.y,\n        message: '',\n        scene: scene?.id || '',\n        scene_id: scene?.id || '',\n      };\n      setCommentSceneTemporary(commentSceneTemporary);\n      setIsShowDialogCreateCommentScene(true);\n    }, [\n      scene,\n      krpanoId,\n      setCommentSceneTemporary,\n      setIsShowDialogCreateCommentScene,\n    ]);\n\n    /**\n     * !SECTION: END_LISTEN_EVENT\n     */\n\n    /**\n     * SECTION: CROSS_FUNCTION\n     */\n    useImperativeHandle(\n      ref,\n      () => ({\n        getContainer() {\n          return containerRef.current;\n        },\n        // ! VIEW KRPANO\n        viewPlanet() {\n          _window[krpanoId].call('cm_littleplanet_view');\n        },\n        viewNormal() {\n          _window[krpanoId].call('cm_normal_view');\n        },\n        viewMirrorBall() {\n          _window[krpanoId].call('mirror_ball_view');\n        },\n        viewFullscreen() {\n          toogleFullScreen();\n          // _window[krpanoId].call('switch(fullscreen)');\n          // _window[krpanoId].call(\n          //   'tween(layer[fullscreen_exitbutton].alpha, 1)',\n          // );\n        },\n        viewWebvr() {\n          _window[krpanoId].call('webvr.enterVR()');\n        },\n        toggleGyro() {\n          _window[krpanoId].call('toggleGyroscope()');\n        },\n        startAutoRotate({ speed = 10, wait_time = 20 }) {\n          _window[krpanoId].call(`startrotation(${speed}, ${wait_time})`);\n        },\n        stopAutoRotate() {\n          _window[krpanoId].call('stoprotation');\n        },\n        toLeft() {\n          _window[krpanoId].call('set(hlookat_moveforce,-0.75)');\n        },\n        toRight() {\n          _window[krpanoId].call('set(hlookat_moveforce,+0.75)');\n        },\n        stopToHorizontal() {\n          _window[krpanoId].call('set(hlookat_moveforce,0)');\n        },\n        toUp() {\n          _window[krpanoId].call('set(vlookat_moveforce,-0.75)');\n        },\n        toDown() {\n          _window[krpanoId].call('set(vlookat_moveforce,+0.75)');\n        },\n        stopToVertical() {\n          _window[krpanoId].call('set(vlookat_moveforce,0)');\n        },\n        removeAllChevronHotspot(hotspots: I_Hotspot[]) {\n          hotspots\n            .filter(item => item.type === 'chevron')\n            .forEach(item => {\n              const name = `hotspot-${item.id}-${krpanoId}-type${item.type}-${\n                item.polygon ? 'ispolygon' : 'unpolygon'\n              }`;\n              _window[krpanoId].call(`removenavigationelements(${name})`);\n            });\n        },\n        triggerSound() {\n          setIsAllowTriggerSound(true);\n        },\n        destroySound() {\n          if (_window[krpanoId]) _window[krpanoId].call(`destroy_sound()`);\n        },\n        muteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, true)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, true);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                ?.get(hotspot.id)\n                ?.onToggleMute(true);\n          });\n        },\n        unmuteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, false)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(\n                `hotspot[${name}].muted`,\n                !hotspot.config?.instructor?.volume,\n              );\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                ?.get(hotspot.id)\n                ?.onToggleMute(false);\n          });\n        },\n        get(key: string) {\n          return _window[krpanoId].get(key);\n        },\n        set(key: string, value: string) {\n          _window[krpanoId].set(key, value);\n        },\n        call(xml: string) {\n          _window[krpanoId].call(xml);\n        },\n        onAddCommentScene(commentScene: I_CommentScene) {\n          onAddCommentSceneKrpano(commentScene);\n        },\n        onRemoveCommentScene(id: string) {\n          onRemoveCommentSceneKrpano(id);\n        },\n        onReplaceCommentScene(commentScene: I_CommentScene) {\n          onReplaceCommentSceneKrpano(commentScene);\n        },\n        focusOnCommentScene(commentScene, func) {\n          const call = `lookat(${commentScene.ath}, ${\n            commentScene.atv\n          }, null, null, true, true, ${func()})`;\n          _window[krpanoId].call(call);\n        },\n        loadXml(xml: string) {\n          _window[krpanoId].call(`load_menu_vr(${xml})`);\n        },\n      }),\n      [\n        krpanoId,\n        onAddCommentSceneKrpano,\n        onRemoveCommentSceneKrpano,\n        onReplaceCommentSceneKrpano,\n      ],\n    );\n\n    /**\n     * SECTION: INIT_KRPANO\n     */\n    useEffect(() => {\n      if (!krpanoView && krpanoId) setKrpanoView(KRPANO(krpanoId));\n    }, [krpanoView, krpanoId]);\n\n    useEffect(() => {\n      if (krpanoView)\n        krpanoView.init(\n          divId,\n          `${process.env.NEXT_PUBLIC_ASSETS_URL}/core/tour.xml`,\n          {\n            mypath: process.env.NEXT_PUBLIC_ASSETS_URL,\n            watermarkEnabled: !configScreenshotCapture?.isOffWatermark,\n            watermarkURL:\n              configScreenshotCapture?.watermarkURL ||\n              isValidHttpUrl(tenant?.logo?.src || '')\n                ? tenant?.logo?.src\n                : '',\n          },\n        );\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, divId]);\n\n    useEffect(() => {\n      if (krpanoView && urlTour) {\n        setIsLoaded(false);\n        isLoadedRef.current = false;\n        if (scene) loadSceneToView(scene);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [scene?._id, krpanoView]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView) {\n        _window[krpanoId].set(\n          'events.webvr_onexitvr',\n          onReloadAllHotspots.bind(\n            this,\n            scene?.hotspots.filter(item => !item.polygon) || [],\n            false,\n          ),\n        );\n        _window[krpanoId].set(\n          'events.reset_view_action',\n          onReloadAllHotspots.bind(this, scene?.hotspots, false),\n        );\n        _window[krpanoId].addEventListener('onloadcomplete', onLoadComplete);\n        _window[krpanoId].addEventListener('onviewchange', onChangeView);\n        _window[krpanoId].addEventListener('onmousewheel', onChangeZoom);\n        _window[krpanoId].addEventListener(\n          'ondoubleclick',\n          onTriggerCreateCommentSceneKrpano,\n        );\n      }\n      return () => {\n        if (_window[krpanoId]) {\n          _window[krpanoId].removeEventListener(\n            'onloadcomplete',\n            onLoadComplete,\n          );\n          _window[krpanoId].removeEventListener('onviewchange', onChangeView);\n          _window[krpanoId].removeEventListener('onmousewheel', onChangeZoom);\n          _window[krpanoId].removeEventListener(\n            'ondoubleclick',\n            onTriggerCreateCommentSceneKrpano,\n          );\n          setIsAllowTriggerSound(false);\n          listCommentSceneIconRef.current = new Map([]);\n          listHotspotMediaVideoRef.current = new Map([]);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene._id]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView)\n        _window[krpanoId].addEventListener('onnewpanovr', onLoadNewSceneVR);\n      return () => {\n        if (_window[krpanoId])\n          _window[krpanoId].removeEventListener(\n            'onnewpanovr',\n            onLoadNewSceneVR,\n          );\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene, isFirstScene]);\n\n    /**\n     * NOTE: trigger play_sound_at_hotspot (only when hotspot loaded)\n     */\n    useEffect(() => {\n      if (isLoaded && isAllowTriggerSound)\n        scene?.hotspots?.forEach(hotspot => {\n          if (\n            (hotspot.type === 'sound' &&\n              hotspot.config?.sound !== undefined &&\n              hotspot.config?.sound?.auto_play) ||\n            (hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media &&\n              !hotspot.config?.instructor?.paused_on_start)\n          ) {\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          } else if (\n            hotspot.type === 'media' &&\n            hotspot.config?.media?.type === 'media-video' &&\n            hotspot?.config?.media?.volume &&\n            listHotspotMediaVideoRef.current.get(hotspot.id)\n          )\n            listHotspotMediaVideoRef.current\n              ?.get(hotspot.id)\n              ?.onToggleMute(false);\n        });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isLoaded, isAllowTriggerSound]);\n\n    // NOTE: update hotspot's title multiLang\n    useEffect(() => {\n      if (languageProject && isLoaded && isLoadedRef.current)\n        onReloadAllHotspots(scene?.hotspots || [], true);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [languageProject]);\n\n    return (\n      <div\n        id={divId}\n        ref={containerRef}\n        style={{\n          ...{\n            width: '100%',\n            height: '250px',\n          },\n          ...styleContainer,\n        }}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nexport default memo(KrpanoViewer);\n","import { memo, useCallback, useEffect, useMemo, useRef } from 'react';\nimport dynamic from 'next/dynamic';\nimport BeforeAfterSlider from '@components/BeforeAfterSlider';\nimport KrpanoViewer from '@components/Krpano/KrpanoViewer';\nimport { ID_KRPANO_CONTAINER } from '../../constants';\nimport { useSelector } from 'react-redux';\nimport {\n  selectConfigNadir,\n  selectConfigFollowModeProject,\n  selectSceneSelected,\n  selectListScene,\n  selectConfigSoundProject,\n  selectPrevSceneSelected,\n} from '@containers/Home/selectors';\nimport { I_Scene } from '@containers/Home/types/I_Scene';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport {\n  useCollaborationMode,\n  useTourEventState,\n} from '@containers/Home/global/TourStats';\nimport { useKrpano } from '@containers/Home/hook/useKrpano';\n\nconst MultipleStagingThumb = dynamic(\n  () => import('@containers/Home/components/MultipleStagingThumb'),\n);\n\ninterface Props {\n  onChangeScene: (scene: I_Scene) => void;\n  krpanoRefState: Type_RefFuncKrpano | null;\n  setIsTourRendered: (isLoaded: boolean) => void;\n  setKrpanoRefState: (krpanoRef: Type_RefFuncKrpano | null) => void;\n}\n\nexport const TourRenderSceneKrpano = memo(\n  ({\n    onChangeScene,\n    krpanoRefState,\n    setKrpanoRefState,\n    setIsTourRendered,\n  }: Props) => {\n    const krpanoRef = useRef<Type_RefFuncKrpano | null>(null!);\n\n    const listScene = useSelector(selectListScene);\n    const nadirConfig = useSelector(selectConfigNadir);\n    const sceneSelected = useSelector(selectSceneSelected);\n    const configSound = useSelector(selectConfigSoundProject);\n    const prevSceneSelected = useSelector(selectPrevSceneSelected);\n    const configFollowMode = useSelector(selectConfigFollowModeProject);\n\n    const [, setKrpanoInstance] = useCollaborationMode('krpanoRef');\n    const [tourEventStats, setTourEventState] = useTourEventState('state');\n\n    const {\n      dollhouseXml,\n      //\n      onClickHotspot,\n      onStopHotspotSound,\n      onStartHotspotSound,\n      onChangeAutoChangeScene,\n      onRemoveAllChevronHotspot,\n      onToggleModeMultipleStaging,\n      // onGenerateXMLMenuThumbnailOnVR,\n    } = useKrpano({ krpanoRef: krpanoRefState });\n\n    const urlTour = useMemo(\n      () =>\n        sceneSelected?.media?.src_preview ||\n        sceneSelected?.media?.src_thumb ||\n        sceneSelected?.media?.src,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [sceneSelected?.id],\n    );\n\n    const isShowMultipleStagingThumb = useMemo(\n      () =>\n        sceneSelected?.mode === 'staging' &&\n        sceneSelected?.staging?.length &&\n        sceneSelected?.staging.filter(item => item.media).length &&\n        !sceneSelected?.configStaging?.modeDisplay,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [sceneSelected?.id],\n    );\n\n    const sceneChildsMultipleStaging = useMemo(\n      () =>\n        (\n          (sceneSelected?.mode === 'staging' &&\n          !!sceneSelected?.configStaging?.modeDisplay\n            ? sceneSelected?.staging\n            : []) || []\n        )\n          .filter(item => item.media)\n          .map(item => ({\n            ...item,\n            urlTour:\n              item?.media?.src_preview ||\n              item?.media?.src_thumb ||\n              item?.media?.src,\n            config: sceneSelected?.config,\n            configPlugin: sceneSelected?.configPlugin,\n          })) as (I_Scene & { urlTour: string })[],\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [sceneSelected?.id],\n    );\n\n    const onChangeSceneById = useCallback(\n      id => {\n        const nextscene = listScene.find(scene => scene.id === id);\n        if (nextscene) onChangeScene(nextscene);\n      },\n      [listScene, onChangeScene],\n    );\n\n    /**\n     * NOTE: destroy sound prevScene when change scene\n     */\n    useEffect(() => {\n      if (prevSceneSelected) {\n        onStopHotspotSound();\n        onRemoveAllChevronHotspot(prevSceneSelected.hotspots);\n        onToggleModeMultipleStaging(false);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [prevSceneSelected]);\n\n    /**\n     * NOTE: auto play sound when change scene (only when allow sound autoplay)\n     */\n    useEffect(() => {\n      if (configSound.on && sceneSelected) onStartHotspotSound();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [sceneSelected?._id, configSound]);\n\n    // useEffect(() => {\n    //   if (\n    //     !isLoadedVRMenuRef.current &&\n    //     krpanoRefState &&\n    //     tourEventStats?.isLoaded\n    //   ) {\n    //     const xml = onGenerateXMLMenuThumbnailOnVR();\n    //     krpanoRefState.loadXml(xml);\n    //     krpanoRefState.call(\n    //       `hide_selected_scene_from_menu_vr(${sceneSelected?.id})`,\n    //     );\n    //     isLoadedVRMenuRef.current = true;\n    //   }\n    //   // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, [tourEventStats?.isLoaded, krpanoRefState]);\n\n    // useEffect(() => {\n    //   if (sceneSelected && isLoadedVRMenuRef.current)\n    //     krpanoRefState?.call(\n    //       `hide_selected_scene_from_menu_vr(${sceneSelected.id})`,\n    //     );\n    //   // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, [sceneSelected?._id]);\n\n    return (\n      <>\n        <BeforeAfterSlider\n          mode={sceneSelected?.configStaging?.modeDisplay ?? ''}\n          scenes={\n            tourEventStats?.isActiveModeMultipleStaging\n              ? sceneChildsMultipleStaging\n              : []\n          }\n          nadirConfig={nadirConfig || undefined}\n          firstPane={\n            <KrpanoViewer\n              ref={node => {\n                if (!krpanoRef.current) {\n                  krpanoRef.current = node;\n                  setKrpanoRefState(krpanoRef.current);\n                  setIsTourRendered(true);\n                }\n              }}\n              nadirConfig={nadirConfig || undefined}\n              isLoaded={tourEventStats?.isLoaded}\n              listScene={listScene}\n              urlTour={urlTour || ''}\n              dollhouseXml={dollhouseXml}\n              setIsLoaded={isLoaded => {\n                setTourEventState(prev => ({ ...prev, isLoaded }));\n                if (isLoaded) setKrpanoInstance(krpanoRefState);\n                else if (!isLoaded) setKrpanoInstance(null);\n              }}\n              krpanoId={ID_KRPANO_CONTAINER}\n              onClickHotspot={onClickHotspot}\n              divId=\"krpanoContainerSnapshot\"\n              scene={sceneSelected || undefined}\n              styleContainer={{\n                height: '100%',\n                width:\n                  sceneSelected?.configStaging?.modeDisplay === 'split'\n                    ? '100%'\n                    : '100vw',\n              }}\n              onChangeAutoChangeScene={onChangeAutoChangeScene}\n              isTurnOffFollowMode={\n                !!sceneChildsMultipleStaging.length || !configFollowMode.enable\n              }\n              onChangeScene={onChangeSceneById}\n            />\n          }\n        />\n        {isShowMultipleStagingThumb && (\n          <MultipleStagingThumb\n            scenes={\n              sceneSelected?.staging?.map(item => ({\n                ...item,\n                config: sceneSelected?.config,\n              })) || []\n            }\n            callKrpano={krpanoRef.current?.call}\n          />\n        )}\n      </>\n    );\n  },\n);\n","import styled from 'styled-components';\n\nexport const TourRenderSceneFlat360Wrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.04);\n  user-select: none;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .--image-container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.1s ease-in-out;\n    .--image {\n      max-width: 100%;\n      max-height: 100%;\n      object-fit: contain;\n      pointer-events: none;\n    }\n  }\n  .--navigation-button {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    background-color: rgba(50, 50, 50, 0.6);\n    color: white;\n    border: none;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    font-size: 16px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 10;\n    transition: opacity 0.3s ease-in-out;\n    opacity: 0.7;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n    &:hover {\n      background-color: rgba(50, 50, 50, 0.8);\n      opacity: 1;\n    }\n    &:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n      background-color: rgba(50, 50, 50, 0.4);\n    }\n    &.--navigation-button-left {\n      left: 15px;\n    }\n    &.--navigation-button-right {\n      right: 15px;\n    }\n  }\n`;\n","import dynamic from 'next/dynamic';\nimport { memo, useEffect, useCallback, useMemo, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectSceneSelected } from '@containers/Home/selectors';\nimport { TourRenderSceneFlat360Wrapper } from './styled';\nimport LoadingContainer from '@components/LoadingContainer';\n\nconst Action = dynamic(() => import('./Action'), { ssr: false });\n\nexport interface I_ViewerState {\n  zoomLevel: number;\n  imagesLoaded: number;\n  currentFrame: number;\n  minZoomLevel: number;\n  maxZoomLevel: number;\n  isLoading: boolean;\n  isDragging: boolean;\n  isAnimating: boolean;\n}\n\ninterface Props {\n  setIsTourRendered: (isLoaded: boolean) => void;\n}\n\nexport const TourRenderSceneFlat360 = memo(({ setIsTourRendered }: Props) => {\n  const lastXRef = useRef(0);\n  const startYRef = useRef(0);\n  const viewerRef = useRef<HTMLDivElement>(null!);\n  const autorotateIntervalRef = useRef(null);\n\n  const keyboardControls = true;\n  const highResZoomThreshold = 2.5;\n  const reverseDirection = false;\n\n  const scene = useSelector(selectSceneSelected);\n\n  // Group related state\n  const [viewerState, setViewerState] = useState<I_ViewerState>({\n    zoomLevel: 1,\n    imagesLoaded: 0,\n    currentFrame: 1,\n    minZoomLevel: 1,\n    maxZoomLevel: 5,\n    isLoading: true,\n    isDragging: false,\n    isAnimating: false,\n  });\n  const [images, setImages] = useState<HTMLImageElement[]>([]);\n  const [highResImages, setHighResImages] = useState<HTMLImageElement[]>([]);\n\n  const totalFrames = Number(scene?.object360?.totalImages) ?? 1;\n  const loadingProgress = useMemo(\n    () => Math.round((viewerState.imagesLoaded / totalFrames) * 100),\n    [viewerState.imagesLoaded, totalFrames],\n  );\n  const useHighRes = useMemo(\n    () =>\n      scene?.object360?.lvl &&\n      viewerState.zoomLevel > highResZoomThreshold &&\n      highResImages[viewerState.currentFrame],\n    [\n      highResImages,\n      scene?.object360?.lvl,\n      viewerState.zoomLevel,\n      viewerState.currentFrame,\n    ],\n  );\n  const currentImageSrc = useMemo(\n    () =>\n      useHighRes\n        ? highResImages[viewerState.currentFrame - 1]?.src ||\n          images[viewerState.currentFrame - 1]?.src\n        : images[viewerState.currentFrame - 1]?.src,\n    [useHighRes, highResImages, viewerState.currentFrame, images],\n  );\n\n  const onZooming = useCallback(\n    e => {\n      e.preventDefault();\n      const delta = e.deltaY * -0.01;\n      const zoomLevel = Math.max(\n        viewerState.minZoomLevel,\n        Math.min(viewerState.maxZoomLevel, viewerState.zoomLevel + delta),\n      );\n      setViewerState(prev => ({\n        ...prev,\n        zoomLevel,\n      }));\n    },\n    [viewerState.minZoomLevel, viewerState.maxZoomLevel, viewerState.zoomLevel],\n  );\n\n  const startDragging = useCallback(\n    e => {\n      if (viewerState.isLoading || viewerState.isAnimating) return;\n      if (autorotateIntervalRef.current)\n        clearInterval(autorotateIntervalRef.current);\n      setViewerState(prev => ({ ...prev, isDragging: true }));\n      startYRef.current = e.clientY;\n      lastXRef.current = e.clientX;\n    },\n    [viewerState.isLoading, viewerState.isAnimating],\n  );\n\n  const onDragging = useCallback(\n    e => {\n      if (\n        !viewerState.isDragging ||\n        viewerState.isLoading ||\n        viewerState.isAnimating\n      )\n        return;\n\n      const currentX = e.clientX;\n      const currentY = e.clientY;\n      const diffX = currentX - lastXRef.current;\n      const diffY = currentY - startYRef.current;\n      lastXRef.current = currentX;\n\n      if (diffX !== 0 || diffY !== 0) {\n        const frameStep = Math.floor(Math.abs(diffX) / 5) || 1;\n        const directionX = (diffX < 0 ? 1 : -1) * (reverseDirection ? -1 : 1);\n        // const directionY = (diffY < 0 ? 1 : -1) * (reverseDirection ? -1 : 1);\n\n        setViewerState(prev => {\n          let newFrame = prev.currentFrame + directionX * frameStep;\n          while (newFrame > totalFrames) newFrame -= totalFrames;\n          while (newFrame < 1) newFrame += totalFrames;\n          return { ...prev, currentFrame: newFrame };\n        });\n      }\n    },\n    [\n      totalFrames,\n      reverseDirection,\n      viewerState.isLoading,\n      viewerState.isDragging,\n      viewerState.isAnimating,\n    ],\n  );\n\n  const endDragging = useCallback(() => {\n    setViewerState(prev => ({ ...prev, isDragging: false }));\n  }, []);\n\n  // Preload all images (standard resolution only)\n  useEffect(() => {\n    setViewerState(prev => ({\n      ...prev,\n      ...scene?.object360,\n      isLoading: true,\n      imagesLoaded: 0,\n    }));\n    const imageObjects: HTMLImageElement[] = [];\n    const highResImageObjects: HTMLImageElement[] = [];\n    let loadedCount = 0;\n\n    const loadImage = (frameNumber, isHighRes = false) => {\n      const img = new Image();\n      const formattedFrame = frameNumber\n        .toString()\n        .padStart(scene?.object360?.padLength || 5, '0');\n      img.src = `${process.env.NEXT_PUBLIC_AWS_URL}/${\n        scene?.object360?.lvl && scene?.object360?.lvl.length\n          ? isHighRes && scene?.object360?.lvl.length > 1\n            ? scene?.object360?.lvl[1]\n            : scene?.object360?.lvl[0]\n          : scene?.object360?.imagePath\n      }${scene?.object360?.imagePrefix}${formattedFrame}.${scene?.object360\n        ?.imageExt}`;\n\n      img.onload = () => {\n        if (!isHighRes) {\n          loadedCount++;\n          setViewerState(prev => ({ ...prev, imagesLoaded: loadedCount }));\n        }\n        if (loadedCount === totalFrames) {\n          setViewerState(prev => ({ ...prev, isLoading: false }));\n          setIsTourRendered(true);\n        }\n      };\n\n      img.onerror = err => {\n        console.error(`Failed to load image ${img.src}:`, err);\n      };\n\n      return img;\n    };\n\n    for (let i = 1; i <= totalFrames; i++) {\n      imageObjects.push(loadImage(i));\n      highResImageObjects.push(loadImage(i, true));\n    }\n\n    setImages(imageObjects);\n    setHighResImages(highResImageObjects);\n\n    return () => {\n      imageObjects.forEach(img => {\n        img.onload = null;\n        img.onerror = null;\n      });\n      highResImageObjects.forEach(img => {\n        img.onload = null;\n        img.onerror = null;\n      });\n      setImages([]);\n      setHighResImages([]);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scene?.id]);\n\n  // Keyboard controls\n  useEffect(() => {\n    if (\n      !keyboardControls ||\n      viewerState.isAnimating\n      // || hotspotState.isHotspotEditMode || hotspotState.selectedHotspot\n    )\n      return;\n\n    const handleKeyDown = e => {\n      const direction = reverseDirection ? -1 : 1;\n      switch (e.key) {\n        case 'ArrowLeft':\n          setViewerState(prev => {\n            return {\n              ...prev,\n              currentFrame:\n                (prev.currentFrame - direction) % totalFrames || totalFrames,\n            };\n          });\n          break;\n        case 'ArrowRight':\n          setViewerState(prev => {\n            return {\n              ...prev,\n              currentFrame:\n                (prev.currentFrame + direction) % totalFrames || totalFrames,\n            };\n          });\n          break;\n        case 'ArrowUp':\n          setViewerState(prev => ({\n            ...prev,\n            zoomLevel: Math.min(prev.maxZoomLevel, prev.zoomLevel + 0.1),\n          }));\n          break;\n        case 'ArrowDown':\n          setViewerState(prev => ({\n            ...prev,\n            zoomLevel: Math.max(prev.minZoomLevel, prev.zoomLevel - 0.1),\n          }));\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keyboardControls, viewerState.isAnimating]);\n\n  useEffect(() => {\n    const container = viewerRef.current;\n    if (container)\n      container.addEventListener('wheel', onZooming, { passive: false });\n    return () => {\n      if (container) container.removeEventListener('wheel', onZooming);\n    };\n  }, [onZooming]);\n\n  return (\n    <LoadingContainer\n      loading={viewerState.isLoading}\n      description={`Loading... ${loadingProgress}%`}\n    >\n      <TourRenderSceneFlat360Wrapper\n        ref={viewerRef}\n        onMouseDown={startDragging}\n        onMouseMove={onDragging}\n        onMouseUp={endDragging}\n        onMouseLeave={endDragging}\n        style={{ cursor: viewerState.isDragging ? 'grabbing' : 'grab' }}\n      >\n        {currentImageSrc && (\n          <div\n            className=\"--image-container\"\n            style={{\n              transform: `scale(${viewerState.zoomLevel})`,\n            }}\n          >\n            <img\n              src={currentImageSrc}\n              alt={`Frame ${viewerState.currentFrame}`}\n              className=\"--image\"\n              draggable={false}\n            />\n          </div>\n        )}\n        <Action\n          scene={scene}\n          viewerState={viewerState}\n          setViewerState={setViewerState}\n          totalFrames={totalFrames}\n        />\n      </TourRenderSceneFlat360Wrapper>\n    </LoadingContainer>\n  );\n});\n","import dynamic from 'next/dynamic';\nimport React, { memo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport {\n  selectSceneSelected,\n  selectIsMatterportProject,\n} from '@containers/Home/selectors';\nimport { useKrpano } from '@containers/Home/hook/useKrpano';\nimport { TourWrapper } from './styled';\nimport { I_Scene } from '../types';\nimport { TourRenderSceneKrpano } from './Tour.RenderSceneKrpano';\nimport { TourRenderSceneFlat360 } from './Tour.RenderSceneFlat360';\n\nconst Map = dynamic(() => import('@containers/Home/components/Map'), {\n  ssr: false,\n});\nconst TourSound = dynamic(\n  () => import('@containers/Home/components/Tour.Sound'),\n);\nconst TourEvent = dynamic(\n  () => import('@containers/Home/components/Tour.Event'),\n);\nconst Floorplan = dynamic(\n  () => import('@containers/Home/components/Floorplan'),\n);\nconst ActionHotspot = dynamic(\n  () => import('@containers/Home/components/ActionHotspot'),\n);\n\nconst MatterportContainer = dynamic(\n  () => import('@containers/Home/components/MatterportContainer'),\n  { ssr: false },\n);\n\nexport type PropChildrenComponents = {\n  krpanoRef: Type_RefFuncKrpano | null;\n};\n\nexport interface I_Tour {\n  onNextScene: () => void;\n  children?: (props: PropChildrenComponents) => React.ReactNode;\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nconst Tour = ({ onChangeScene, onNextScene, children }: I_Tour) => {\n  const sceneSelected = useSelector(selectSceneSelected);\n  const isMatterportProject = useSelector(selectIsMatterportProject);\n\n  const [isTourRendered, setIsTourRendered] = useState(false);\n  const [krpanoRefState, setKrpanoRefState] =\n    useState<Type_RefFuncKrpano | null>(null!);\n  const { isShowIconMap, isShowIconFloorplan } = useKrpano({\n    krpanoRef: null,\n  });\n\n  return (\n    <TourWrapper>\n      {isMatterportProject ? (\n        <MatterportContainer />\n      ) : sceneSelected?.object360?.imagePrefix ? (\n        <TourRenderSceneFlat360 setIsTourRendered={setIsTourRendered} />\n      ) : (\n        <TourRenderSceneKrpano\n          onChangeScene={onChangeScene}\n          setIsTourRendered={setIsTourRendered}\n          krpanoRefState={krpanoRefState}\n          setKrpanoRefState={setKrpanoRefState}\n        />\n      )}\n\n      {isTourRendered && (\n        <>\n          {children &&\n            children({\n              krpanoRef: krpanoRefState,\n            })}\n\n          {krpanoRefState && <TourSound krpanoRef={krpanoRefState} />}\n\n          {krpanoRefState && (\n            <TourEvent krpanoRef={krpanoRefState} onNextScene={onNextScene} />\n          )}\n\n          <ActionHotspot />\n        </>\n      )}\n\n      {isShowIconMap && <Map onChangeScene={onChangeScene} />}\n      {isShowIconFloorplan && <Floorplan onChangeScene={onChangeScene} />}\n    </TourWrapper>\n  );\n};\n\nexport default memo(Tour);\n","import styled from 'styled-components';\n\nexport const TourSettingWrapper = styled.div``;\n\nexport const TourWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`;\n\nexport const MatterportContainerWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  iframe {\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nexport const HotspotCompactInfoWrapper = styled.div`\n  position: absolute;\n  z-index: 21;\n  bottom: 1rem;\n  right: 1rem;\n  opacity: 0;\n  transform: translateX(1rem);\n  transition: var(--transition-smooth);\n  border-radius: 8px;\n  background-color: var(--color-primary);\n  padding: 1rem;\n  width: 350px;\n  height: auto;\n  pointer-events: none;\n  article {\n    * {\n      color: var(--color-text);\n    }\n    p:last-child {\n      margin: 0;\n    }\n\n    figure {\n      width: 100% !important;\n      height: auto !important;\n      img {\n        width: 100% !important;\n        height: auto !important;\n      }\n    }\n  }\n\n  &.active {\n    opacity: 1;\n    transform: none;\n  }\n`;\n"],"names":["pulse","keyframes","dash","pulseCallout","ShapeIconWrapper","styled","div","withConfig","FlexRowCenter","props","isRenderShape","css","bgColor","iconColor","ImageIconWrapper","img","LottieIconWrapper","MarkerIconWrapper","color","DefaultIconWrapper","COLOR_HOTSPOT_BG_DEFAULT","COLOR_HOTSPOT_ICON_DEFAULT","HotspotWrapper","isHidden","type","size","concat","opacity","rotate","height","HotspotMediaWrapper","width","transform","backgroundColor","displayType","CalloutIconWrapper","degrees","HotspotCompactWrapper","MODE_CURSOR","BeforeAfterSliderWrapper","BeforeAfterSlider","param","onMouseUpHandler","withResizeFeel","scenes","_param_scenes","firstPane","onVisible","classNames","nadirConfig","delimiterColor","_param_mode","mode","refContainer","useRef","stateTemporary","useState","containerWidth","setContainerWidth","panesPosition","setPanesPosition","sliderMode","setSliderMode","top","left","containerPosition","setContainerPosition","firstPanePosition","useMemo","_this","reduce","a","b","observer","window","IntersectionObserver","entries","forEach","entry","intersectionRatio","disconnect","threshold","useEffect","observe","current","positions","widthAverage","Number","length","index","push","updateContainerWidth","offsetWidth","document","addEventListener","removeEventListener","delimiterIconStyles","delimiterPositionStyle","right","updateContainerPosition","containerCoords","getBoundingClientRect","pageYOffset","pageXOffset","onMouseDownHandler","item","itemActive","onMoveHandler","e","newPosition","X","pageX","prev","map","idx","newItem","el","totalWidthCurrentAndNextItem","totalWidthItemsLtCurrent","filter","_item","i","currentWidthOld","currentWidthNew","isUpdateNextItem","_param_withResizeFeel","jsx_runtime","jsx","ref","className","onMouseMove","preventDefault","onTouchMove","touches","Boolean","jsxs","Fragment","style","zIndex","overflow","position","KrpanoBasic","urlTour","scene","undefined","krpanoId","divId","styleContainer","onMouseDown","onTouchStart","id","PopoverCommentScene","dynamic","Promise","all","__webpack_require__","then","bind","SvgContainer","CommentSceneIcon","forwardRef","commentScene","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","isShow","setIsShow","krpanoInstance","useCollaborationMode","commentSceneSelected","setCommentSelected","loading","onClosePopover","useCallback","_onCreateCommentScene","data","_onUpdateCommentScene","_onDeleteCommentScene","isClosePopover","useImperativeHandle","onClose","Popover","open","content","LoadingContainer","placement","destroyTooltipOnHide","trigger","CommentSceneIconWrapper","isResolved","src","process","name","span","DialogPostWithoutUseRedux","HotspotMedia","hotspot","listPost","isSoundOn","onClickHotspot","videoRef","isVideoPlaying","setIsVideoPlaying","visibleDialogPost","setVisibleDialogPost","postId","config","media","post_id","isVideoLoop","loop","isVideoAutoplay","autoPlay","videoVolume","volume","actionClick","action","content_post","muted","autoplay","err","pause","onOpenDialogPost","onCloseDialogPost","onClick","paused","play","onToggleMute","isMute","video","playsInline","preload","mediaIOS","source","aria-hidden","alt","dangerouslySetInnerHTML","__html","idPost","visible","onCancel","useInternalFunction","_window","setZoomKrpano","useZoomKrpano","setHLookatKrpano","useHLookatKrpano","setVLookatKrpano","useVLookatKrpano","sceneChilds","staging","day2dust","_object_spread_props","_","_object_spread","xml","krpano_xml","src_preview","src_thumb","onTriggerChangeView","call","get","onTriggerChangeZoom","fov","onTriggerLoadCompleted","isTurnOffFollowMode","controlMode","subType","set","default_view","x","y","zoom_lv","onApplyConfigPluginKrpanoForScene","Object","DEFAULT_CONFIG_SCENE_PLUGIN","keyParent","valueParent","keyChild","valueChild","value","configPlugin","onRenderXmlKrpano","isLittlePlanetView","configView","transition","typeTransition","view","fovDefault","isLittlePlanet","architecturalonlymiddle","zoom_limit","min","max","limit_view","bottom","lensflare","enabled","ath","atv","sun","glare","r_ring","exposure_bias","onTriggerSoundHotspot","isAllowTriggerSound","polygon","sound","file","url","toFixed","reach","auto_play","instructor","onAddHotspotNadirKrpano","krpano","scale","isEnabled","link","onBackNormalViewFromLittlePlanetView","setTimeout","timeTransitionLittlePlanet","onAddHotspotVRKrpanoUtils","image","nameTitle","title","onAddHotspotKrpanoUtils","_ref","_ref1","keepHotspotPositionWhenZooming","zoomRange","onConfigHotspotMedia","onConfigHotspotPolygon","polygonHotspotConfigGlobal","polygon_config","fillColor","separateColorAndTransparency","properties","CONFIG_POLYGON_HOTSPOT_DEFAULT","fillColorHover","borderColor","borderColorHover","replace","borderWidth","alpha","points","coordinate","onConfigHotspotInstructor","paused_on_start","DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT","sound_360","maskColor","mask","smoothing","onAddCommentSceneIconUtils","isCommentSceneTemporary","Hotspot","HotspotCompact","isServer","KrpanoViewer","listScene","_param_listScene","_param_divId","_param_krpanoId","_param_dollhouseXml","dollhouseXml","onChangeAutoChangeScene","isLoaded","setIsLoaded","children","_param_styleContainer","_param_isTurnOffFollowMode","onChangeScene","isLoadedRef","isAllowTriggerSoundRef","containerRef","listCommentSceneIconRef","Map","listCommentSceneIconRootRef","listHotspotMediaVideoRef","tenant","useSelector","selectTenant","isFirstScene","selectIsFirstScene","selectListPostUsedOnTour","languageProject","selectLanguageProject","hotspotConfigGlobal","selectHotspotConfigGlobal","configViewModeProject","selectConfigViewModeProject","dollhouseConfigGlobal","selectDollhouseConfigGlobal","selectPolygonConfigGlobal","configControlModeProject","selectConfigControlModeProject","configProjectionModeProject","selectConfigProjectionModeProject","configScreenshotCapture","selectConfigScreenshotCapture","krpanoView","setKrpanoView","setIsAllowTriggerSound","useCommentScene","setIsShowDialogCreateCommentScene","setCommentSceneTemporary","loadSceneToView","myscene","bgColorDollhouse","BG_COLOR_DOLLHOUSE_DEFAULT","isShowOnStart","loadScene","configStaging","onAddHotspotVRKrpano","_async_to_generator","galleries","join","resolve","onAddHotspotKrpano","isReloadHotspot","patchConfig","layers","topmostVisibleLayer","topmostHoverLayer","topmostClickLayer","imageUrl","cacheBustedUrl","renderHotspot","hs","contentString","node","lockHotspot","innerHTML","renderToString","toString","getElementById","root","createRoot","render","r","languageSelected","newHotspot","point","isTransition","isHideTitleGlobal","hideTitle","isHidePreviewGlobal","hidePreview","isHideTitleOnTopGlobal","hideTitleOnTopHotspot","bgColorDefault","iconColorDefault","onChangePopover","chevron","distorted","hotspotDistort","patch","find","layer","_state","sent","renderHTMLCommentSceneIcon","isOwnerTour","newData","Math","abs","message","scene_id","unmount","sprite","onAddCommentSceneKrpano","isReloadHTML","onRemoveCommentSceneKrpano","onReplaceCommentSceneKrpano","onReloadAllHotspots","hotspots","isReload","onChangeView","debounce","onChangeZoom","onLoadNewSceneVR","sceneId","onLoadComplete","endsWith","onTriggerCreateCommentSceneKrpano","location","screentosphere","generateRandomID","getContainer","viewPlanet","viewNormal","viewMirrorBall","viewFullscreen","doc","element","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","webkitExitFullscreen","mozCancelFullScreen","body","requestFullscreen","msRequestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","openMessageWithIcon","viewWebvr","toggleGyro","startAutoRotate","speed","_param_wait_time","wait_time","_param_speed","stopAutoRotate","toLeft","toRight","stopToHorizontal","toUp","toDown","stopToVertical","removeAllChevronHotspot","triggerSound","destroySound","muteAllSound","detailScene","unmuteAllSound","key","onAddCommentScene","onRemoveCommentScene","onReplaceCommentScene","focusOnCommentScene","func","loadXml","KRPANO","init","mypath","watermarkEnabled","isOffWatermark","watermarkURL","isValidHttpUrl","logo","_id","Krpano_KrpanoViewer","memo","MultipleStagingThumb","TourRenderSceneKrpano","sceneSelected","krpanoRef","krpanoRefState","setKrpanoRefState","setIsTourRendered","selectListScene","selectConfigNadir","selectSceneSelected","configSound","selectConfigSoundProject","prevSceneSelected","selectPrevSceneSelected","configFollowMode","selectConfigFollowModeProject","setKrpanoInstance","useTourEventState","tourEventStats","setTourEventState","useKrpano","onStopHotspotSound","onStartHotspotSound","onRemoveAllChevronHotspot","onToggleModeMultipleStaging","isShowMultipleStagingThumb","modeDisplay","sceneChildsMultipleStaging","onChangeSceneById","nextscene","on","isActiveModeMultipleStaging","ID_KRPANO_CONTAINER","enable","callKrpano","TourRenderSceneFlat360Wrapper","Action","ssr","TourRenderSceneFlat360","lastXRef","startYRef","viewerRef","autorotateIntervalRef","zoomLevel","imagesLoaded","currentFrame","minZoomLevel","maxZoomLevel","isLoading","isDragging","isAnimating","viewerState","setViewerState","images","setImages","highResImages","setHighResImages","totalFrames","object360","totalImages","loadingProgress","round","useHighRes","lvl","currentImageSrc","onZooming","delta","deltaY","startDragging","clearInterval","clientY","clientX","onDragging","currentX","currentY","diffX","diffY","frameStep","floor","directionX","newFrame","endDragging","imageObjects","highResImageObjects","loadedCount","loadImage","frameNumber","isHighRes","Image","formattedFrame","padStart","padLength","imagePath","imagePrefix","imageExt","onload","onerror","handleKeyDown","direction","container","passive","description","onMouseUp","onMouseLeave","cursor","draggable","TourSound","TourEvent","Floorplan","ActionHotspot","MatterportContainer","components_Tour","onNextScene","isMatterportProject","selectIsMatterportProject","isTourRendered","isShowIconMap","isShowIconFloorplan","TourWrapper","TourSettingWrapper","MatterportContainerWrapper","HotspotCompactInfoWrapper"],"sourceRoot":""}